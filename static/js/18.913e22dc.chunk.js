(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{417:function(e,a,t){"use strict";var n=t(5),s=t(17),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),m=t(413),d={tag:m.m,className:l.a.string,cssModule:l.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=Object(s.a)(e,["className","cssModule","tag"]),l=Object(m.i)(u()(a,"input-group-text"),t);return r.a.createElement(c,Object(n.a)({},o,{className:l}))};p.propTypes=d,p.defaultProps={tag:"span"},a.a=p},423:function(e,a,t){"use strict";var n=t(5),s=t(17),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),m=t(413),d={tag:m.m,noGutters:l.a.bool,className:l.a.string,cssModule:l.a.object,form:l.a.bool},p=function(e){var a=e.className,t=e.cssModule,c=e.noGutters,o=e.tag,l=e.form,i=Object(s.a)(e,["className","cssModule","noGutters","tag","form"]),d=Object(m.i)(u()(a,c?"no-gutters":null,l?"form-row":"row"),t);return r.a.createElement(o,Object(n.a)({},i,{className:d}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},431:function(e,a,t){"use strict";var n=t(5),s=t(17),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),m=t(413),d={tag:m.m,size:l.a.string,className:l.a.string,cssModule:l.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=e.size,l=Object(s.a)(e,["className","cssModule","tag","size"]),i=Object(m.i)(u()(a,"input-group",o?"input-group-"+o:null),t);return r.a.createElement(c,Object(n.a)({},l,{className:i}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},432:function(e,a,t){"use strict";var n=t(5),s=t(17),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),m=t(413),d=t(417),p={tag:m.m,addonType:l.a.oneOf(["prepend","append"]).isRequired,children:l.a.node,className:l.a.string,cssModule:l.a.object},g=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=e.addonType,l=e.children,i=Object(s.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(m.i)(u()(a,"input-group-"+o),t);return"string"===typeof l?r.a.createElement(c,Object(n.a)({},i,{className:p}),r.a.createElement(d.a,{children:l})):r.a.createElement(c,Object(n.a)({},i,{className:p,children:l}))};g.propTypes=p,g.defaultProps={tag:"div"},a.a=g},442:function(e,a,t){"use strict";var n=t(5),s=t(17),c=t(420),r=t(0),o=t.n(r),l=t(1),i=t.n(l),u=t(65),m=t.n(u),d=t(413),p=t(443),g={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:d.m,transition:i.a.shape(p.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(c.a)({},p.a.defaultProps,{unmountOnExit:!0})};function b(e){var a=e.className,t=e.closeClassName,r=e.closeAriaLabel,l=e.cssModule,i=e.tag,u=e.color,g=e.isOpen,f=e.toggle,b=e.children,h=e.transition,E=e.fade,N=e.innerRef,O=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),y=Object(d.i)(m()(a,"alert","alert-"+u,{"alert-dismissible":f}),l),j=Object(d.i)(m()("close",t),l),v=Object(c.a)({},p.a.defaultProps,h,{baseClass:E?h.baseClass:"",timeout:E?h.timeout:0});return o.a.createElement(p.a,Object(n.a)({},O,v,{tag:i,className:y,in:g,role:"alert",innerRef:N}),f?o.a.createElement("button",{type:"button",className:j,"aria-label":r,onClick:f},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,b)}b.propTypes=g,b.defaultProps=f,a.a=b},712:function(e,a,t){"use strict";t.r(a);var n=t(44),s=t(45),c=t(133),r=t(132),o=t(134),l=t(0),i=t.n(l),u=t(439),m=t(423),d=t(424),p=t(5),g=t(17),f=t(1),b=t.n(f),h=t(65),E=t.n(h),N=t(413),O={tag:N.m,className:b.a.string,cssModule:b.a.object},y=function(e){var a=e.className,t=e.cssModule,n=e.tag,s=Object(g.a)(e,["className","cssModule","tag"]),c=Object(N.i)(E()(a,"card-group"),t);return i.a.createElement(n,Object(p.a)({},s,{className:c}))};y.propTypes=O,y.defaultProps={tag:"div"};var j=y,v=t(440),w=t(441),P=t(457),C=t(135),S=t(18),M=t(442),A=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={isOpen:!0},t.toggle=t.toggle.bind(Object(C.a)(t)),t}Object(S.a)(a,e);var t=a.prototype;return t.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t.render=function(){return i.a.createElement(M.a,Object(p.a)({isOpen:this.state.isOpen,toggle:this.toggle},this.props))},a}(l.Component),T=t(431),x=t(432),k=t(417),I=t(433),L=t(425),R=t(136),U=t(2),z=function(e,a){return function(t){t({type:U.k,payload:{userName:e,password:a}}),t({type:U.a})}},D=function(e){return function(a){a({type:U.d,payload:{ipAddress:e}}),a({type:U.a})}},G=t(98),J=t(36),q=function(e){function a(e){var t;Object(n.a)(this,a),(t=Object(c.a)(this,Object(r.a)(a).call(this,e))).changeUserName=function(e){t.setState({username:e.target.value,connectionSuccess:!1})},t.changePassword=function(e){t.setState({password:e.target.value,connectionSuccess:!1})},t.changeIPAddress=function(e){t.setState({ipAddress:e.target.value,connectionSuccess:!1})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.ipAddress,s=a.username,c=a.password;Promise.all([z(s,c),D(n)]).then(function(){t.props.history.push("/dashboard")})},t.checkConnection=function(e){e.preventDefault();var a=t.state,n=a.ipAddress,s=a.username,c=a.password,r=t.props,o=r.changeUserNamePassword,l=r.changeIPAddress;Promise.all([o(s,c),l(n)]).then(function(){G.a.post("rc/noopauth").then(function(e){console.log("Connection successful."),t.setState({connectionSuccess:!0,error:""})},function(e){console.log(e),t.setState({connectionSuccess:!1,error:"Error connecting. Please check username password and verify if rclone is working at the specified IP."})})})};var s="http://localhost:5572/";return localStorage.getItem(J.b)&&(s=localStorage.getItem(J.b)),t.state={username:"",password:"",ipAddress:s,connectionSuccess:!1,error:""},t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear(),this.props.signOut()}},{key:"render",value:function(){var e=this.state,a=e.username,t=e.password,n=e.ipAddress,s=e.connectionSuccess,c=e.error;return i.a.createElement("div",{className:"app flex-row align-items-center","data-test":"loginComponent"},i.a.createElement(u.a,null,i.a.createElement(m.a,{className:"justify-content-center"},i.a.createElement(d.a,{md:"8"},i.a.createElement(j,null,i.a.createElement(v.a,{className:"p-4"},i.a.createElement(w.a,null,i.a.createElement(P.a,{onSubmit:this.onSubmit},i.a.createElement("h1",null,"Login"),i.a.createElement("p",{className:"text-muted"},"Sign In to your account"),c&&i.a.createElement(A,{color:"danger",children:c}),s&&i.a.createElement(A,{color:"success",children:"Connection verified. You may now login."}),i.a.createElement(T.a,{className:"mb-3"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(I.a,{type:"text",placeholder:"IP Address / URL",autoComplete:"ipAddress",onChange:this.changeIPAddress,value:n})),i.a.createElement(T.a,{className:"mb-3"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(I.a,{type:"text",placeholder:"Username",autoComplete:"username",onChange:this.changeUserName,value:a})),i.a.createElement(T.a,{className:"mb-4"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-lock"}))),i.a.createElement(I.a,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.changePassword,value:t})),i.a.createElement(m.a,null,i.a.createElement(d.a,{xs:"6"},i.a.createElement(L.a,{color:"primary",className:"px-4",disabled:!s},"Login")),i.a.createElement(d.a,{xs:"6",className:"text-right"},i.a.createElement(L.a,{onClick:this.checkConnection,color:"primary",className:"px-4"},"Verify")))))),i.a.createElement(v.a,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},i.a.createElement(w.a,{className:"text-center"},i.a.createElement("div",null))))))))}}]),a}(l.Component);a.default=Object(R.b)(null,{signOut:function(){return function(e){e({type:U.E})}},changeUserNamePassword:z,changeIPAddress:D})(q)}}]);
//# sourceMappingURL=18.913e22dc.chunk.js.map