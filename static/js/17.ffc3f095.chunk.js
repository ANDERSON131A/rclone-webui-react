(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{417:function(e,a,t){"use strict";var n=t(8),s=t(36),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),p=t(412),d={tag:p.n,className:l.a.string,cssModule:l.a.object},m=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=Object(s.a)(e,["className","cssModule","tag"]),l=Object(p.j)(u()(a,"input-group-text"),t);return r.a.createElement(c,Object(n.a)({},o,{className:l}))};m.propTypes=d,m.defaultProps={tag:"span"},a.a=m},423:function(e,a,t){"use strict";var n=t(8),s=t(36),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),p=t(412),d={tag:p.n,noGutters:l.a.bool,className:l.a.string,cssModule:l.a.object,form:l.a.bool},m=function(e){var a=e.className,t=e.cssModule,c=e.noGutters,o=e.tag,l=e.form,i=Object(s.a)(e,["className","cssModule","noGutters","tag","form"]),d=Object(p.j)(u()(a,c?"no-gutters":null,l?"form-row":"row"),t);return r.a.createElement(o,Object(n.a)({},i,{className:d}))};m.propTypes=d,m.defaultProps={tag:"div"},a.a=m},427:function(e,a,t){"use strict";var n=t(8),s=t(36),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),p=t(412),d={tag:p.n,size:l.a.string,className:l.a.string,cssModule:l.a.object},m=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=e.size,l=Object(s.a)(e,["className","cssModule","tag","size"]),i=Object(p.j)(u()(a,"input-group",o?"input-group-"+o:null),t);return r.a.createElement(c,Object(n.a)({},l,{className:i}))};m.propTypes=d,m.defaultProps={tag:"div"},a.a=m},428:function(e,a,t){"use strict";var n=t(8),s=t(36),c=t(0),r=t.n(c),o=t(1),l=t.n(o),i=t(65),u=t.n(i),p=t(412),d=t(417),m={tag:p.n,addonType:l.a.oneOf(["prepend","append"]).isRequired,children:l.a.node,className:l.a.string,cssModule:l.a.object},g=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=e.addonType,l=e.children,i=Object(s.a)(e,["className","cssModule","tag","addonType","children"]),m=Object(p.j)(u()(a,"input-group-"+o),t);return"string"===typeof l?r.a.createElement(c,Object(n.a)({},i,{className:m}),r.a.createElement(d.a,{children:l})):r.a.createElement(c,Object(n.a)({},i,{className:m,children:l}))};g.propTypes=m,g.defaultProps={tag:"div"},a.a=g},438:function(e,a,t){"use strict";var n=t(8),s=t(36),c=t(419),r=t(0),o=t.n(r),l=t(1),i=t.n(l),u=t(65),p=t.n(u),d=t(412),m=t(439),g={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:d.n,transition:i.a.shape(m.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(c.a)({},m.a.defaultProps,{unmountOnExit:!0})};function b(e){var a=e.className,t=e.closeClassName,r=e.closeAriaLabel,l=e.cssModule,i=e.tag,u=e.color,g=e.isOpen,f=e.toggle,b=e.children,h=e.transition,N=e.fade,E=e.innerRef,j=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),O=Object(d.j)(p()(a,"alert","alert-"+u,{"alert-dismissible":f}),l),y=Object(d.j)(p()("close",t),l),v=Object(c.a)({},m.a.defaultProps,h,{baseClass:N?h.baseClass:"",timeout:N?h.timeout:0});return o.a.createElement(m.a,Object(n.a)({},j,v,{tag:i,className:O,in:g,role:"alert",innerRef:E}),f?o.a.createElement("button",{type:"button",className:y,"aria-label":r,onClick:f},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,b)}b.propTypes=g,b.defaultProps=f,a.a=b},618:function(e,a,t){"use strict";t.r(a);var n=t(43),s=t(44),c=t(133),r=t(132),o=t(134),l=t(0),i=t.n(l),u=t(435),p=t(423),d=t(424),m=t(8),g=t(36),f=t(1),b=t.n(f),h=t(65),N=t.n(h),E=t(412),j={tag:E.n,className:b.a.string,cssModule:b.a.object},O=function(e){var a=e.className,t=e.cssModule,n=e.tag,s=Object(g.a)(e,["className","cssModule","tag"]),c=Object(E.j)(N()(a,"card-group"),t);return i.a.createElement(n,Object(m.a)({},s,{className:c}))};O.propTypes=j,O.defaultProps={tag:"div"};var y=O,v=t(436),w=t(437),P=t(448),C=t(20),S=t(414),M=t(438),A=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={isOpen:!0},t.toggle=t.toggle.bind(Object(S.a)(Object(S.a)(t))),t}Object(C.a)(a,e);var t=a.prototype;return t.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t.render=function(){return i.a.createElement(M.a,Object(m.a)({isOpen:this.state.isOpen,toggle:this.toggle},this.props))},a}(l.Component),T=t(427),x=t(428),k=t(417),I=t(429),L=t(422),R=t(135),U=t(3),z=function(e,a){return function(t){t({type:U.h,payload:{userName:e,password:a}}),t({type:U.a})}},D=function(e){return function(a){a({type:U.c,payload:{ipAddress:e}}),a({type:U.a})}},G=t(98),J=t(55),q=function(e){function a(e){var t;Object(n.a)(this,a),(t=Object(c.a)(this,Object(r.a)(a).call(this,e))).changeUserName=function(e){t.setState({username:e.target.value,connectionSuccess:!1})},t.changePassword=function(e){t.setState({password:e.target.value,connectionSuccess:!1})},t.changeIPAddress=function(e){t.setState({ipAddress:e.target.value,connectionSuccess:!1})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.ipAddress,s=a.username,c=a.password;Promise.all([z(s,c),D(n)]).then(function(){t.props.history.push("/dashboard")})},t.checkConnection=function(e){e.preventDefault();var a=t.state,n=a.ipAddress,s=a.username,c=a.password,r=t.props,o=r.changeUserNamePassword,l=r.changeIPAddress;Promise.all([o(s,c),l(n)]).then(function(){G.a.post("rc/noopauth").then(function(e){console.log("Connection successful."),t.setState({connectionSuccess:!0,error:""})},function(e){console.log(e),t.setState({connectionSuccess:!1,error:"Error connecting. Please check username password and verify if rclone is working at the specified IP."})})})};var s="http://localhost:5572/";return localStorage.getItem(J.a)&&(s=localStorage.getItem(J.a)),t.state={username:"",password:"",ipAddress:s,connectionSuccess:!1,error:""},t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear(),this.props.signOut()}},{key:"render",value:function(){var e=this.state,a=e.username,t=e.password,n=e.ipAddress,s=e.connectionSuccess,c=e.error;return i.a.createElement("div",{className:"app flex-row align-items-center","data-test":"loginComponent"},i.a.createElement(u.a,null,i.a.createElement(p.a,{className:"justify-content-center"},i.a.createElement(d.a,{md:"8"},i.a.createElement(y,null,i.a.createElement(v.a,{className:"p-4"},i.a.createElement(w.a,null,i.a.createElement(P.a,{onSubmit:this.onSubmit},i.a.createElement("h1",null,"Login"),i.a.createElement("p",{className:"text-muted"},"Sign In to your account"),c&&i.a.createElement(A,{color:"danger",children:c}),s&&i.a.createElement(A,{color:"success",children:"Connection verified. You may now login."}),i.a.createElement(T.a,{className:"mb-3"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(I.a,{type:"text",placeholder:"IP Address / URL",autoComplete:"ipAddress",onChange:this.changeIPAddress,value:n})),i.a.createElement(T.a,{className:"mb-3"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(I.a,{type:"text",placeholder:"Username",autoComplete:"username",onChange:this.changeUserName,value:a})),i.a.createElement(T.a,{className:"mb-4"},i.a.createElement(x.a,{addonType:"prepend"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"icon-lock"}))),i.a.createElement(I.a,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.changePassword,value:t})),i.a.createElement(p.a,null,i.a.createElement(d.a,{xs:"6"},i.a.createElement(L.a,{color:"primary",className:"px-4",disabled:!s},"Login")),i.a.createElement(d.a,{xs:"6",className:"text-right"},i.a.createElement(L.a,{onClick:this.checkConnection,color:"primary",className:"px-4"},"Verify")))))),i.a.createElement(v.a,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},i.a.createElement(w.a,{className:"text-center"},i.a.createElement("div",null))))))))}}]),a}(l.Component);a.default=Object(R.b)(null,{signOut:function(){return function(e){e({type:U.z})}},changeUserNamePassword:z,changeIPAddress:D})(q)}}]);
//# sourceMappingURL=17.ffc3f095.chunk.js.map