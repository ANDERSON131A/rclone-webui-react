(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{383:function(e,t,a){"use strict";function n(e){return 0===e?0:e/1024}function r(e){return 0===e?0:e/1024/1024/1024}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e<1)return"0 B";var a=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function i(e){function t(e){return e>1?"s":""}var a=Math.floor(e/31536e3);if(a)return a+" year"+t(a);var n=Math.floor((e%=31536e3)/86400);if(n)return n+" day"+t(n);var r=Math.floor((e%=86400)/3600);if(r)return r+" hour"+t(r);var o=Math.floor((e%=3600)/60);return o?o+" minute"+t(o):(e%=60)?e.toFixed(2)+" second"+t(e):"Just now"}function s(e,t){return e.test(t)}function c(e){return s(/^(off|(([0-9]+[.][0-9]+|[0-9]+)([KMGTP])))$/i,e)}function l(e){return s(/^([0-9]+)$/,e)}function u(e){return s(/^(\d+[h])?(\d+[m])?(\d+[s])?(\d+ms)??$/i,e)}function d(e,t){return e.find(function(e,a,n){return t===e.Prefix})}function f(e){return-1===e.indexOf(":")&&":"!==e[e.length-1]&&(e+=":"),e}a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"h",function(){return o}),a.d(t,"j",function(){return i}),a.d(t,"m",function(){return c}),a.d(t,"l",function(){return l}),a.d(t,"k",function(){return u}),a.d(t,"g",function(){return d}),a.d(t,"a",function(){return f}),a.d(t,"d",function(){return h}),a.d(t,"e",function(){return m}),a.d(t,"i",function(){return v}),t.f=function(e){if(Array.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var p={Images:"image/jpeg",Pdf:"application/pdf"};function h(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p)[t];return a?e.filter(function(e){return e.IsDir||e.MimeType===a}):e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t=t.toLowerCase())?e.filter(function(e){return e.Name.toLowerCase().startsWith(t)}):e}function v(e){return e&&""!==e&&"/"===e[0]}},384:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},385:function(e,t,a){"use strict";a.d(t,"c",function(){return u}),a.d(t,"b",function(){return d});var n=a(389),r=a.n(n),o=a(390),i=a(406),s=a.n(i),c=a(383),l=s.a.create({baseURL:localStorage.getItem("ipAddress"),headers:{"Content-Type":"application/json"},responseType:"json"});function u(e,t,a,n,r,o){return f(e,t,a,n,r,o,"move")}function d(e,t,a,n,r,o){return f(e,t,a,n,r,o,"copy")}function f(e,t,a,n,r,o,i){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(r.a.mark(function e(t,a,n,o,i,s,u){var d,f,p,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d="",d="move"===u?s?"/sync/move":"/operations/movefile":s?"/sync/copy":"/operations/copyfile",Object(c.i)(t)&&(t=""),Object(c.i)(n)&&(n=""),!s){e.next=13;break}return f=a.split("/"),p={srcFs:t+a,dstFs:n+o+"/"+f[f.length-1],_async:!0},console.log("DirOp:",p),e.next=10,l.post(d,p);case 10:return e.abrupt("return",e.sent);case 13:return""===o?o=i:o+="/"+i,h={srcFs:t,srcRemote:a,dstFs:n,dstRemote:o,_async:!0},e.next=17,l.post(d,h);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}l.interceptors.request.use(function(e){return e.headers.Authorization="Basic "+btoa(localStorage.getItem("username")+":"+localStorage.getItem("password")),e},function(e){return Promise.reject(e)}),t.a=l},392:function(e,t,a){"use strict";var n=a(7),r=a(35),o=a(20),i=a(381),s=a(0),c=a.n(s),l=a(1),u=a.n(l),d=a(63),f=a.n(d),p=a(380),h={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:p.n,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(i.a)(Object(i.a)(a))),a}Object(o.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},a.render=function(){var e=this.props,t=e.active,a=e["aria-label"],o=e.block,i=e.className,s=e.close,l=e.cssModule,u=e.color,d=e.outline,h=e.size,m=e.tag,v=e.innerRef,g=Object(r.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&"undefined"===typeof g.children&&(g.children=c.a.createElement("span",{"aria-hidden":!0},"\xd7"));var b="btn"+(d?"-outline":"")+"-"+u,E=Object(p.j)(f()(i,{close:s},s||"btn",s||b,!!h&&"btn-"+h,!!o&&"btn-block",{active:t,disabled:this.props.disabled}),l);g.href&&"button"===m&&(m="a");var O=s?"Close":null;return c.a.createElement(m,Object(n.a)({type:"button"===m&&g.onClick?"button":void 0},g,{className:E,ref:v,onClick:this.onClick,"aria-label":a||O}))},t}(c.a.Component);m.propTypes=h,m.defaultProps={color:"secondary",tag:"button"},t.a=m},397:function(e,t,a){"use strict";var n=a(7),r=a(35),o=a(384),i=a.n(o),s=a(0),c=a.n(s),l=a(1),u=a.n(l),d=a(63),f=a.n(d),p=a(380),h=u.a.oneOfType([u.a.number,u.a.string]),m=u.a.oneOfType([u.a.bool,u.a.number,u.a.string,u.a.shape({size:u.a.oneOfType([u.a.bool,u.a.number,u.a.string]),push:Object(p.f)(h,'Please use the prop "order"'),pull:Object(p.f)(h,'Please use the prop "order"'),order:h,offset:h})]),v={tag:p.n,xs:m,sm:m,md:m,lg:m,xl:m,className:u.a.string,cssModule:u.a.object,widths:u.a.array},g={tag:"div",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},E=function(e){var t=e.className,a=e.cssModule,o=e.widths,s=e.tag,l=Object(r.a)(e,["className","cssModule","widths","tag"]),u=[];o.forEach(function(t,n){var r=e[t];if(delete l[t],r||""===r){var o=!n;if(i()(r)){var s,c=o?"-":"-"+t+"-",d=b(o,t,r.size);u.push(Object(p.j)(f()(((s={})[d]=r.size||""===r.size,s["order"+c+r.order]=r.order||0===r.order,s["offset"+c+r.offset]=r.offset||0===r.offset,s)),a))}else{var h=b(o,t,r);u.push(h)}}}),u.length||u.push("col");var d=Object(p.j)(f()(t,u),a);return c.a.createElement(s,Object(n.a)({},l,{className:d}))};E.propTypes=v,E.defaultProps=g,t.a=E},399:function(e,t,a){"use strict";var n=a(7),r=a(35),o=a(0),i=a.n(o),s=a(1),c=a.n(s),l=a(63),u=a.n(l),d=a(380),f={tag:d.n,inverse:c.a.bool,color:c.a.string,block:Object(d.f)(c.a.bool,'Please use the props "body"'),body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var t=e.className,a=e.cssModule,o=e.color,s=e.block,c=e.body,l=e.inverse,f=e.outline,p=e.tag,h=e.innerRef,m=Object(r.a)(e,["className","cssModule","color","block","body","inverse","outline","tag","innerRef"]),v=Object(d.j)(u()(t,"card",!!l&&"text-white",!(!s&&!c)&&"card-body",!!o&&(f?"border":"bg")+"-"+o),a);return i.a.createElement(p,Object(n.a)({},m,{className:v,ref:h}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},400:function(e,t,a){"use strict";var n=a(7),r=a(35),o=a(0),i=a.n(o),s=a(1),c=a.n(s),l=a(63),u=a.n(l),d=a(380),f={tag:d.n,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var t=e.className,a=e.cssModule,o=e.innerRef,s=e.tag,c=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.j)(u()(t,"card-body"),a);return i.a.createElement(s,Object(n.a)({},c,{className:l,ref:o}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},429:function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i});var n=a(385),r=a(6),o=function(){return function(e){n.a.post("/config/providers").then(function(t){return e({type:r.l,payload:t.data.providers})})}},i=function(){return function(e){n.a.post("/config/dump").then(function(t){return e({type:r.i,status:r.s,payload:t.data})},function(t){return e({type:r.i,status:r.r,payload:t})})}}},452:function(e,t,a){"use strict";var n=a(7),r=a(35),o=a(0),i=a.n(o),s=a(1),c=a.n(s),l=a(63),u=a.n(l),d=a(380),f={tag:d.n,className:c.a.string,cssModule:c.a.object},p=function(e){var t=e.className,a=e.cssModule,o=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),c=Object(d.j)(u()(t,"card-header"),a);return i.a.createElement(o,Object(n.a)({},s,{className:c}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},634:function(e,t,a){"use strict";a.r(t);var n=a(387),r=a(389),o=a.n(r),i=a(390),s=a(8),c=a(24),l=a(42),u=a(43),d=a(128),f=a(127),p=a(131),h=a(129),m=a(0),v=a.n(m),g=a(624),b=a(625),E=a(397),O=a(403),y=a(7),j=a(35),k=a(1),N=a.n(k),S=a(63),C=a.n(S),x=a(380),M={children:N.a.node,tag:x.n,className:N.a.string,cssModule:N.a.object,valid:N.a.bool,tooltip:N.a.bool},T={tag:"div",valid:void 0},w=function(e){var t=e.className,a=e.cssModule,n=e.valid,r=e.tooltip,o=e.tag,i=Object(j.a)(e,["className","cssModule","valid","tooltip","tag"]),s=r?"tooltip":"feedback",c=Object(x.j)(C()(t,n?"valid-"+s:"invalid-"+s),a);return v.a.createElement(o,Object(y.a)({},i,{className:c}))};w.propTypes=M,w.defaultProps=T;var V,I=w,A=a(417),P=a(399),R=a(452),D=a(392),F=a(20),q=a(381),B=a(395),H=a(462),z=Object(B.a)({},H.Transition.propTypes,{isOpen:N.a.bool,children:N.a.oneOfType([N.a.arrayOf(N.a.node),N.a.node]),tag:x.n,className:N.a.node,navbar:N.a.bool,cssModule:N.a.object,innerRef:N.a.oneOfType([N.a.func,N.a.string,N.a.object])}),G=Object(B.a)({},H.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:x.c.Collapse}),L=((V={})[x.b.ENTERING]="collapsing",V[x.b.ENTERED]="collapse show",V[x.b.EXITING]="collapsing",V[x.b.EXITED]="collapse",V);function J(e){return e.scrollHeight}var $=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){a[e]=a[e].bind(Object(q.a)(Object(q.a)(a)))}),a}Object(F.a)(t,e);var a=t.prototype;return a.onEntering=function(e,t){this.setState({height:J(e)}),this.props.onEntering(e,t)},a.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},a.onExit=function(e){this.setState({height:J(e)}),this.props.onExit(e)},a.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},a.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},a.render=function(){var e=this,t=this.props,a=t.tag,n=t.isOpen,r=t.className,o=t.navbar,i=t.cssModule,s=t.children,c=(t.innerRef,Object(j.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),l=this.state.height,u=Object(x.l)(c,x.a),d=Object(x.k)(c,x.a);return v.a.createElement(H.Transition,Object(y.a)({},u,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var n=function(e){return L[e]||"collapse"}(t),c=Object(x.j)(C()(r,n,o&&"navbar-collapse"),i),u=null===l?null:{height:l};return v.a.createElement(a,Object(y.a)({},d,{style:Object(B.a)({},d.style,u),className:c,ref:e.props.innerRef}),s)})},t}(m.Component);$.propTypes=z,$.defaultProps=G;var _=$,K=a(400),U=a(471),W=a(636),X=a(621),Y=a(622),Z=a(623),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).toggle=a.toggle.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props.isVisible;return v.a.createElement("div",null,v.a.createElement(W.a,{isOpen:e,toggle:this.toggle},v.a.createElement(X.a,{toggle:this.toggle,"data-test":"modalHeader"},"Configuring your drive."),v.a.createElement(Y.a,{"data-test":"modalBody"},"A page will open for you with the authentication for your drive. This modal will automatically dismiss upon successful creation"),v.a.createElement(Z.a,{"data-test":"modalFooter"},v.a.createElement(D.a,{color:"primary",onClick:this.toggle},"Done")," ")))}}]),t}(v.a.Component);Q.defaultProps={isVisible:!0};var ee=Q,te=a(385),ae=a(383),ne=a(463),re=a.n(ne),oe=function(e,t){var a=t.trim().toLowerCase(),n=a.length;return 0===n?e:0===n?[]:e.filter(function(e){return e.Description.toLowerCase().slice(0,n)===a})},ie=function(e){return e.Prefix},se=function(e){return v.a.createElement("div",null,e.Description)},ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:oe(a.props.suggestions,t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={suggestions:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onChange,n=e.suggestions,r=Object(ae.g)(n,t),o={placeholder:"Type a provider type",value:void 0===r?t:r.Description,onChange:a};return v.a.createElement(re.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:ie,renderSuggestion:se,alwaysRenderSuggestions:!0,highlightFirstSuggestion:!0,inputProps:o})}}]),t}(v.a.Component),le=a(132),ue=a(429),de=a(130);function fe(e){var t=e.drivePrefix,a=e.loadAdvanced,n=e.changeHandler,r=e.currentValues,o=e.isValidMap,i=e.errorsMap,s=e.config;if(void 0!==t&&""!==t){var c=Object(ae.g)(s,t),l=[];if(void 0!==c)l=c.Options.map(function(e,t){if(0===e.Hide&&(a&&e.Advanced||!a&&!e.Advanced)){var s="".concat(e.Help),c=e.Required?v.a.createElement("i",{className:"text-red"},"*"):null,l=!Object(ae.f)(e.Examples),u=null,d="";return e.IsPassword?d="password":l?d="string":"bool"===e.Type?(d="select",u=[v.a.createElement("option",{key:1,value:!0},"Yes"),v.a.createElement("option",{key:2,value:!1},"No")]):d="int"===e.Type?"number":(e.Type,"text"),v.a.createElement(g.a,{key:t,row:!0},v.a.createElement(b.a,{for:e.Name,sm:5},s,c),v.a.createElement(E.a,{sm:7},v.a.createElement(O.a,{type:d,value:r[e.Name],name:e.Name,valid:o[e.Name],invalid:!o[e.Name],id:e.Name,onChange:n,required:e.Required},u),v.a.createElement(I,null,i[e.Name])))}return null});return l}return v.a.createElement("div",null,"Select a drive type to continue")}function pe(e){var t=e.key,a=e.id,n=e.label,r=e.changeHandler,o=e.type,i=e.value,s=e.name,c=e.placeholder,l=e.isValid,u=void 0!==l&&l;return v.a.createElement(g.a,{key:t,row:!0},v.a.createElement(b.a,{for:a,sm:5},n),v.a.createElement(E.a,{sm:7},v.a.createElement(O.a,{type:o,value:i,name:s,placeholder:c,id:a,onChange:r,valid:u,invalid:!u,required:!0}),v.a.createElement(I,{valid:!0},"Sweet! that name is available"),v.a.createElement(I,null,"Sad! That name is already assigned or empty")))}var he=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e,a))).toggle=function(e){var t=e.target.name;n.setState(Object(c.a)({},t,!n.state[t]))},n.handleInputChange=function(e){var t=e.target.name,a=e.target.value,r=n.state.optionTypes[t];n.setState({formValues:Object(s.a)({},n.state.formValues,Object(c.a)({},t,a))});var o=!0,i="";"SizeSuffix"===r?(o=Object(ae.m)(a))||(i="The valid input is size( off | {unit}{metric} eg: 10G, 100M, 10G100M etc.)"):"Duration"===r?(o=Object(ae.k)(a))||(i="The valid input is time ({unit}{metric} eg: 10ms, 100m, 10h15ms etc.)"):"int"===r&&((o=Object(ae.l)(a))||(i="The valid input is int (100,200,300 etc)")),!n.state.required[t]||a&&""!==a||(o=!1)||(i+=" This field is required"),n.setState(function(e){return{isValid:Object(s.a)({},e.isValid,Object(c.a)({},t,o)),formErrors:Object(s.a)({},e.formErrors,Object(c.a)({},t,i))}})},n.changeDriveType=function(e,t){var a=t.newValue,r=n.props.providers,o=a,i={},s={},c={},l={},u={};if(void 0!==o&&""!==o){var d=Object(ae.g)(r,o);void 0!==d&&d.Options.forEach(function(e){var t=e.DefaultStr,a=e.Type,n=e.Name,r=e.Required;0===e.Hide&&(i[n]=t,s[n]=a,u[n]=r,c[n]=!(r&&(!t||""===t)),l[n]="")}),n.setState({drivePrefix:o,formValues:i,optionTypes:s,isValid:c,formErrors:l,required:u})}else n.setState({drivePrefix:o})},n.openSetupDrive=function(e){e&&e.preventDefault(),n.setState({colSetup:!0}),n.setupDriveDiv.scrollIntoView({behavior:"smooth"})},n.editAdvancedOptions=function(e){n.setState({advancedOptions:!n.state.advancedOptions})},n.clearForm=function(e){n.setState({driveName:"",drivePrefix:""})},n.changeName=function(e){var t=e.target.value;n.setState({driveName:t},function(){void 0===t||""===t?n.setState({driveNameIsValid:!1}):te.a.post("/config/get",{name:t}).then(function(e){var t=n.state.formErrors,a=Object(ae.f)(e.data);t.driveName=a?"":"Duplicate",n.setState({formErrors:t,driveNameIsValid:a})})})},n.openAdvancedSettings=function(e){n.state.advancedOptions?n.setState({colAdvanced:!0}):n.configEndDiv.scrollIntoView({behavior:"smooth"})},n.state={colRconfig:!0,colSetup:!1,colAdvanced:!1,driveName:"",advancedOptions:!1,formValues:{},formValuesValid:{},required:{},authModalIsVisible:!1,drivePrefix:"",driveNameIsValid:!1,formErrors:{driveName:""},optionTypes:{},isValid:{}},n.configCheckInterval=null,n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.toggleAuthModal=n.toggleAuthModal.bind(Object(p.a)(n)),n.startAuthentication=n.startAuthentication.bind(Object(p.a)(n)),n.checkConfigStatus=n.checkConfigStatus.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"checkConfigStatus",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.driveName,e.prev=1,e.next=4,te.a.post("/config/get",{name:t});case 4:a=e.sent,Object(ae.f)(a.data)||(clearInterval(this.configCheckInterval),this.configCheckInterval=null,this.toggleAuthModal(),this.props.history.push("/dashboard")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),le.b.error("Error creating config. ".concat(e.t0),{autoClose:!1});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"validateForm",value:function(){var e=this.state,t=e.driveNameIsValid,a=e.drivePrefix,r=e.isValid,o=!0;t||(o=!1),""===a&&(o=!1);for(var i=0,s=Object.entries(r);i<s.length;i++){var c=s[i],l=Object(n.a)(c,2),u=l[0],d=l[1];if(!u||!d){o=!1;break}}return o}},{key:"toggleAuthModal",value:function(){this.setState(function(e,t){return{authModalIsVisible:!e.authModalIsVisible}})}},{key:"startAuthentication",value:function(){this.toggleAuthModal(),null===this.configCheckInterval?this.configCheckInterval=setInterval(this.checkConfigStatus,1e3):console.error("Interval already running. Should not start a new one")}},{key:"stopAuthentication",value:function(){this.setState(function(e,t){return{authModalIsVisible:!1}}),clearInterval(this.configCheckInterval)}},{key:"handleSubmit",value:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,r,i,s,c,l,u,d,f,p,h,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state,r=a.formValues,i=a.drivePrefix,s=this.props.providers,!this.validateForm()){e.next=25;break}if(void 0===i||""===i){e.next=23;break}if(void 0===(c=Object(ae.g)(s,i))){e.next=23;break}for(l=c.Options,u={},d=function(){var e=p[f],t=(h=Object(n.a)(e,2))[0],a=h[1];a!==l.find(function(e,a,n){return t===e.Name}).DefaultStr&&(u[t]=a)},f=0,p=Object.entries(r);f<p.length;f++)d();return m={parameters:u,name:this.state.driveName,type:this.state.drivePrefix},this.startAuthentication(),e.prev=13,e.next=16,te.a.post("/config/create",m);case 16:le.b.info("Config created"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(13),le.b.error("Error creating config. ".concat(e.t0),{autoClose:!1}),this.stopAuthentication();case 23:e.next=28;break;case 25:this.state.colSetup||this.openSetupDrive(),this.state.advancedOptions&&!this.state.colAdvanced&&this.openAdvancedSettings(),le.b.warn("Check for errors before submitting.",{autoClose:!1});case 28:case"end":return e.stop()}},e,this,[[13,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){(!this.props.providers||this.props.providers.length<1)&&this.props.getProviders()}},{key:"componentWillUnmount",value:function(){clearInterval(this.configCheckInterval),this.configCheckInterval=null}},{key:"render",value:function(){var e=this,t=this.state,a=t.colRconfig,n=t.colSetup,r=t.colAdvanced,o=t.drivePrefix,i=t.advancedOptions,s=t.driveName,c=t.driveNameIsValid,l=this.props.providers;return v.a.createElement("div",{"data-test":"newDriveComponent"},v.a.createElement("p",null,"This 3 step process will guide you through creating a new config. For auto config, leave the parameters as is."),v.a.createElement(A.a,{onSubmit:this.handleSubmit},v.a.createElement(P.a,null,v.a.createElement(R.a,null,v.a.createElement("h5",null,v.a.createElement(D.a,{color:"link",name:"colRconfig",onClick:this.toggle,style:{marginBottom:"1rem"}},v.a.createElement("strong",null,"Step 1:")," Remote Config"))),v.a.createElement(_,{isOpen:a},v.a.createElement(K.a,null,v.a.createElement(pe,{label:"Name of this drive (For your reference)",changeHandler:this.changeName,value:s,placeholder:"Enter a name",name:"name",id:"driveName",isValid:c}),v.a.createElement(g.a,{row:!0},v.a.createElement(b.a,{for:"driveType",sm:5},"Select"),v.a.createElement(E.a,{sm:7},v.a.createElement(ce,{suggestions:l,value:o,onChange:this.changeDriveType}))),v.a.createElement(g.a,{row:!0},v.a.createElement(E.a,{sm:3},v.a.createElement(b.a,{for:"inputDriveName"},"Docs are available at ")," ",v.a.createElement("a",{href:"https://rclone.org/commands/rclone_config/"},"Rclone Config")))),v.a.createElement(U.a,null,v.a.createElement("div",{className:"clearfix"},v.a.createElement(D.a,{color:"success",className:"float-right",onClick:this.openSetupDrive},v.a.createElement("i",{className:"fa fa-check fa-lg "})))))),v.a.createElement(P.a,null,v.a.createElement("div",{ref:function(t){return e.setupDriveDiv=t}}),v.a.createElement(R.a,null,v.a.createElement("h5",null,v.a.createElement(D.a,{color:"link",name:"colSetup",onClick:this.toggle,style:{marginBottom:"1rem"}},v.a.createElement("strong",null,"Step 2:")," Setup Drive"))),v.a.createElement(_,{isOpen:n},v.a.createElement(K.a,null,v.a.createElement(fe,{drivePrefix:o,loadAdvanced:!1,changeHandler:this.handleInputChange,errorsMap:this.state.formErrors,isValidMap:this.state.isValid,currentValues:this.state.formValues,config:l})),v.a.createElement(U.a,null,v.a.createElement("div",{className:"clearfix"},v.a.createElement("div",{className:"float-right"},v.a.createElement(O.a,{type:"checkbox",value:i,onChange:this.editAdvancedOptions}),v.a.createElement("span",{className:"mr-3"},"Edit Advanced Options"),v.a.createElement(D.a,{color:"success",onClick:this.openAdvancedSettings},v.a.createElement("i",{className:"fa fa-check fa-lg "}))))))),v.a.createElement(P.a,null,v.a.createElement(R.a,null,v.a.createElement("h5",null,v.a.createElement(D.a,{color:"link",name:"colAdvanced",onClick:this.toggle,style:{marginBottom:"1rem"}},v.a.createElement("strong",null,"Step 3:")," Advanced (optional)"))),v.a.createElement(_,{isOpen:r},v.a.createElement(K.a,null,v.a.createElement(fe,{drivePrefix:o,loadAdvanced:!0,changeHandler:this.handleInputChange,errorsMap:this.state.formErrors,isValidMap:this.state.isValid,currentValues:this.state.formValues,config:l})))),v.a.createElement("div",{className:"clearfix",ref:function(t){e.configEndDiv=t}},v.a.createElement("div",{className:"float-right mb-3"},v.a.createElement(D.a,{color:"info",type:"reset",onClick:function(){return e.clearForm()}},"Clear"),v.a.createElement(D.a,{color:"success",type:"submit"},"Create Config")))),v.a.createElement(ee,{isVisible:this.state.authModalIsVisible,closeModal:this.toggleAuthModal}))}}]),t}(v.a.Component);t.default=Object(de.b)(function(e){return{providers:e.config.providers}},{getProviders:ue.b})(he)}}]);
//# sourceMappingURL=14.7fddf0e0.chunk.js.map