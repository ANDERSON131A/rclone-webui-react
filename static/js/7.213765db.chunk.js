(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{418:function(e,t,n){"use strict";var r=n(8),a=n(37),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(65),l=n.n(u),d=n(412),h={tag:d.m,className:c.a.string,cssModule:c.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(a.a)(e,["className","cssModule","tag"]),c=Object(d.i)(l()(t,"input-group-text"),n);return i.a.createElement(o,Object(r.a)({},s,{className:c}))};p.propTypes=h,p.defaultProps={tag:"span"},t.a=p},427:function(e,t,n){"use strict";var r=n(8),a=n(37),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(65),l=n.n(u),d=n(412),h={tag:d.m,size:c.a.string,className:c.a.string,cssModule:c.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.size,c=Object(a.a)(e,["className","cssModule","tag","size"]),u=Object(d.i)(l()(t,"input-group",s?"input-group-"+s:null),n);return i.a.createElement(o,Object(r.a)({},c,{className:u}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},428:function(e,t,n){"use strict";var r=n(8),a=n(37),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(65),l=n.n(u),d=n(412),h=n(418),p={tag:d.m,addonType:c.a.oneOf(["prepend","append"]).isRequired,children:c.a.node,className:c.a.string,cssModule:c.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.addonType,c=e.children,u=Object(a.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(d.i)(l()(t,"input-group-"+s),n);return"string"===typeof c?i.a.createElement(o,Object(r.a)({},u,{className:p}),i.a.createElement(h.a,{children:c})):i.a.createElement(o,Object(r.a)({},u,{className:p,children:c}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},433:function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(a=n?n.call(r,l,d,u):void 0)||void 0===a&&l!==d)return!1}return!0}},438:function(e,t,n){"use strict";var r=n(8),a=n(37),o=n(421),i=n(0),s=n.n(i),c=n(1),u=n.n(c),l=n(65),d=n.n(l),h=n(412),p=n(439),f={children:u.a.node,className:u.a.string,closeClassName:u.a.string,closeAriaLabel:u.a.string,cssModule:u.a.object,color:u.a.string,fade:u.a.bool,isOpen:u.a.bool,toggle:u.a.func,tag:h.m,transition:u.a.shape(p.a.propTypes),innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},g={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(o.a)({},p.a.defaultProps,{unmountOnExit:!0})};function m(e){var t=e.className,n=e.closeClassName,i=e.closeAriaLabel,c=e.cssModule,u=e.tag,l=e.color,f=e.isOpen,g=e.toggle,m=e.children,v=e.transition,b=e.fade,y=e.innerRef,O=Object(a.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),E=Object(h.i)(d()(t,"alert","alert-"+l,{"alert-dismissible":g}),c),D=Object(h.i)(d()("close",n),c),I=Object(o.a)({},p.a.defaultProps,v,{baseClass:b?v.baseClass:"",timeout:b?v.timeout:0});return s.a.createElement(p.a,Object(r.a)({},O,I,{tag:u,className:E,in:f,role:"alert",innerRef:y}),g?s.a.createElement("button",{type:"button",className:D,"aria-label":i,onClick:g},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,m)}m.propTypes=f,m.defaultProps=g,t.a=m},495:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},622:function(e,t,n){"use strict";var r=n(8),a=n(37),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(65),l=n.n(u),d=n(412),h={className:c.a.string,cssModule:c.a.object,size:c.a.string,bordered:c.a.bool,borderless:c.a.bool,striped:c.a.bool,dark:c.a.bool,hover:c.a.bool,responsive:c.a.oneOfType([c.a.bool,c.a.string]),tag:d.m,responsiveTag:d.m,innerRef:c.a.oneOfType([c.a.func,c.a.string,c.a.object])},p=function(e){var t=e.className,n=e.cssModule,o=e.size,s=e.bordered,c=e.borderless,u=e.striped,h=e.dark,p=e.hover,f=e.responsive,g=e.tag,m=e.responsiveTag,v=e.innerRef,b=Object(a.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),y=Object(d.i)(l()(t,"table",!!o&&"table-"+o,!!s&&"table-bordered",!!c&&"table-borderless",!!u&&"table-striped",!!h&&"table-dark",!!p&&"table-hover"),n),O=i.a.createElement(g,Object(r.a)({},b,{ref:v,className:y}));if(f){var E=Object(d.i)(!0===f?"table-responsive":"table-responsive-"+f,n);return i.a.createElement(m,{className:E},O)}return O};p.propTypes=h,p.defaultProps={tag:"table",responsiveTag:"div"},t.a=p},623:function(e,t,n){"use strict";var r=n(211),a=[],o=[],i=r.makeRequestCallFromTimer(function(){if(o.length)throw o.shift()});function s(e){var t;(t=a.length?a.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),i())}finally{this.task=null,a[a.length]=this}}},624:function(e,t,n){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},625:function(e,t,n){"use strict";var r=n(626),a=n(627),o=n(628),i=n(630),s=n(495),c=n(631);t.__esModule=!0,t.default=void 0;var u,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),d=n(51),h=(u=n(66))&&u.__esModule?u:{default:u};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"undefined"!==typeof window&&n(633);var f=function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)};var g=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={disconnectOnLeave:!1});var u=function(u){function h(e){var t;return r(this,h),(t=o(this,i(h).call(this,e))).observer=null,t.node=null,t.state={inViewport:!1,enterCount:0,leaveCount:0},t.intersected=!1,t.handleIntersection=t.handleIntersection.bind(s(t)),t.initIntersectionObserver=t.initIntersectionObserver.bind(s(t)),t.setInnerRef=t.setInnerRef.bind(s(t)),t.setRef=t.setRef.bind(s(t)),t}return c(h,u),a(h,[{key:"componentDidMount",value:function(){this.initIntersectionObserver(),this.startObserver(this.node,this.observer)}},{key:"componentDidUpdate",value:function(e,t){this.intersected||t.inViewport||this.observer&&this.node&&(this.observer.unobserve(this.node),this.observer.observe(this.node))}},{key:"initIntersectionObserver",value:function(){this.observer||(this.observer=new IntersectionObserver(this.handleIntersection,t))}},{key:"componentWillUnmount",value:function(){this.stopObserver(this.node,this.observer)}},{key:"startObserver",value:function(e,t){e&&t&&t.observe(e)}},{key:"stopObserver",value:function(e,t){e&&t&&(t.unobserve(e),t.disconnect(),this.observer=null)}},{key:"handleIntersection",value:function(e){var t=this.props,r=t.onEnterViewport,a=t.onLeaveViewport,o=e[0]||{},i=o.isIntersecting,s=o.intersectionRatio,c="undefined"!==typeof i?i:s>0;if(!this.intersected&&c)return this.intersected=!0,r&&r(),void this.setState({inViewport:c,enterCount:this.state.enterCount+1});this.intersected&&!c&&(this.intersected=!1,a&&a(),n.disconnectOnLeave&&this.observer&&this.observer.disconnect(),this.setState({inViewport:c,leaveCount:this.state.leaveCount+1}))}},{key:"setRef",value:function(e){this.node=(0,d.findDOMNode)(e)}},{key:"setInnerRef",value:function(e){e&&!this.node&&(this.node=e)}},{key:"render",value:function(){var t=this.props,n=(t.onEnterViewport,t.onLeaveViewport,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["onEnterViewport","onLeaveViewport"])),r=this.state,a=r.inViewport,o=r.enterCount,i=r.leaveCount,s=f(e)?{innerRef:this.setInnerRef}:{ref:this.setRef};return l.default.createElement(e,p({},n,{inViewport:a,enterCount:o,leaveCount:i},s))}}]),h}(l.Component);return(0,h.default)(u,e)};t.default=g},626:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},627:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},628:function(e,t,n){var r=n(629),a=n(495);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},629:function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},630:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},631:function(e,t,n){var r=n(632);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},632:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},633:function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},a.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},a.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(a){var o=a.element,i=c(o),s=this._rootContainsTarget(o),u=a.entry,l=t&&s&&this._computeTargetAndRootIntersection(o,n),d=a.entry=new r({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:n,intersectionRect:l});u?t&&s?this._hasCrossedThreshold(u,d)&&this._queuedEntries.push(d):u&&u.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},a.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var a=c(n),o=l(n),i=!1;!i;){var u=null,d=1==o.nodeType?e.getComputedStyle(o):{};if("none"==d.display)return;if(o==this.root||o==t?(i=!0,u=r):o!=t.body&&o!=t.documentElement&&"visible"!=d.overflow&&(u=c(o)),u&&!(a=s(u,a)))break;o=l(o)}return a}},a.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var a=0;a<this.thresholds.length;a++){var o=this.thresholds[a];if(o==n||o==r||o<n!==o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||u(t,this.root)},a.prototype._rootContainsTarget=function(e){return u(this.root||t,e)},a.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},a.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=a,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,a=r.width*r.height;this.intersectionRatio=n?Number((a/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function o(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),a=Math.max(e.left,t.left),o=Math.min(e.right,t.right),i=o-a,s=r-n;return i>=0&&s>=0&&{top:n,bottom:r,left:a,right:o,width:i,height:s}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},646:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"FILE",function(){return ar}),n.d(r,"URL",function(){return or}),n.d(r,"TEXT",function(){return ir});var a=n(44),o=n(45),i=n(133),s=n(132),c=n(136),u=n(134),l=n(0),d=n.n(l),h=n(423),p=n(422),f=n(424),g=n(436),m=n(491),v=n(437),b=n(492),y=n.n(b),O=function(e,t){var n=t.trim().toLowerCase(),r=n.length;return 0===r?e:0===r?[]:e.filter(function(e){return e.toLowerCase().slice(0,r)===n})},E=function(e){return e},D=function(e){return d.a.createElement("div",null,e)},I=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).onSuggestionsFetchRequested=function(e){var t=e.value;n.setState({suggestions:O(n.props.suggestions,t)})},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.state={suggestions:[]},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t={placeholder:"Type the name of remote you want to open",value:e.value,onChange:e.onChange};return d.a.createElement(y.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:E,renderSuggestion:D,highlightFirstSuggestion:!0,inputProps:t})}}]),t}(d.a.Component),w=n(135),k=n(19),C=n(98),S=n(2),T=n(99),N=function(e,t,n){return function(r){r({type:S.g,remoteName:t,id:e,remotePath:n}),r(P(e))}},j=function(e,t){return function(n){n({type:S.h,remoteName:t,id:e,remotePath:""}),n(P(e))}},P=function(e){return function(t,n){var r=n().explorer.currentPaths[e],a=r.remoteName,o=r.remotePath;a&&""!==a&&t(_(a,o))}},R=function(e){return function(t){t({type:S.m,id:e})}},M=function(e){return function(t){t({type:S.z,id:e}),t(P(e))}},x=function(e){return function(t){t({type:S.y,id:e}),t(P(e))}},F=function(e){return function(t){t({type:S.x,id:e}),t(P(e))}},_=function(e,t){return function(n){if(""!==e){var r={fs:0!==e.indexOf("/")?Object(T.a)(e):e,remote:t},a="".concat(e,"-").concat(t);C.a.post("operations/list",r).then(function(e){return n({type:S.s,status:S.C,payload:{path:a,filesList:e.data.list}})},function(e){return n({type:S.s,status:S.A,payload:{path:a,error:e}})})}}},L=n(449),A=n(1),H=n.n(A),U=(H.a.oneOfType([H.a.shape({Features:H.a.object.isRequired,Hashes:H.a.array.isRequired,Name:H.a.string.isRequired,Precision:H.a.number.isRequired,String:H.a.string.isRequired}),H.a.object]),H.a.shape({remoteName:H.a.string.isRequired,remotePath:H.a.string.isRequired}),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).shouldUpdateRemoteName=function(e,t){var r=t.newValue;0===r.indexOf("/")?n.setState({remoteName:r,openButtonText:"Open local path"}):n.setState({remoteName:r,openButtonText:"Open"})},n.openRemote=function(){var e=n.props,t=e.changeRemoteName,r=e.containerID,a=n.state.remoteName;t(r,a),n.props.getFsInfo(a)},n.state={isEmpty:!1,remoteName:e.remoteName,openEnabled:!1,openButtonText:"Open"},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getRemoteNames()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEmpty,r=t.remoteName,a=this.props.remotes;return this.props.hasError?d.a.createElement("div",null,"Error loading remotes. Please try again."):n?d.a.createElement("div",null,"Add some remotes to see them here ",d.a.createElement("span",{role:"img","aria-label":"sheep"},"\ud83d\udc11"),"."):d.a.createElement(L.a,{onSubmit:function(){return e.openRemote()}},d.a.createElement(p.a,null,d.a.createElement(h.a,{xs:12,sm:10,lg:8},d.a.createElement(I,{value:r,onChange:this.shouldUpdateRemoteName,suggestions:a})),d.a.createElement(h.a,{xs:12,sm:2,lg:4},d.a.createElement(f.a,{className:"btn-lg",color:"success",type:"submit"},this.state.openButtonText))))}}]),t}(d.a.Component));U.defaultProps={};var B=Object(w.b)(function(e,t){return{remotes:e.remote.remotes,hasError:!1,error:e.remote.error,currentPath:e.explorer.currentPaths[t.containerID]}},{getRemoteNames:function(){return function(e,t){var n=t();(!n.remote.remotes||n.remote.remotes.length<1)&&C.a.post("config/listremotes").then(function(t){return e({type:S.v,status:S.C,payload:t.data.remotes})},function(t){return e({type:S.v,status:S.A,payload:t})})}},getFsInfo:function(e){return function(t){var n,r;Object(T.i)(e)?n=r="/":(r=e.split(":")[0],n=Object(T.a)(r)),C.a.post("operations/fsinfo",{fs:n}).then(function(e){t({type:S.r,status:S.C,payload:Object(k.a)({},r,e.data)})},function(e){return t({type:S.r,status:S.A,payload:e})})}},changeRemoteName:j})(U),V=n(100),q=n.n(V),G=n(138),z=n(8),W=n(37),K=n(65),X=n.n(K),Y=n(412),$={tag:Y.m,type:H.a.string,size:H.a.string,color:H.a.string,className:H.a.string,cssModule:H.a.object,children:H.a.string},Q=function(e){var t=e.className,n=e.cssModule,r=e.type,a=e.size,o=e.color,i=e.children,s=e.tag,c=Object(W.a)(e,["className","cssModule","type","size","color","children","tag"]),u=Object(Y.i)(X()(t,!!a&&"spinner-"+r+"-"+a,"spinner-"+r,!!o&&"text-"+o),n);return d.a.createElement(s,Object(z.a)({role:"status"},c,{className:u}),i&&d.a.createElement("span",{className:Object(Y.i)("sr-only",n)},i))};Q.propTypes=$,Q.defaultProps={tag:"div",type:"border",children:"Loading..."};var J,Z=Q,ee=n(435),te=n(622),ne=n(438);!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(J||(J={}));var re=n(49),ae="dnd-core/INIT_COORDS",oe="dnd-core/BEGIN_DRAG",ie="dnd-core/PUBLISH_DRAG_SOURCE",se="dnd-core/HOVER",ce="dnd-core/DROP",ue="dnd-core/END_DRAG";function le(e,t){return{type:ae,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function de(e){return"object"===typeof e}var he=n(38),pe={type:ae,payload:{clientOffset:null,sourceClientOffset:null}};function fe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,a=void 0===r||r,o=n.clientOffset,i=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(le(o)),function(e,t,n){he(!t.isDragging(),"Cannot call beginDrag while dragging.");var r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;he(n.getSource(c),"Expected sourceIds to be registered.")}}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}(t,s,c);var u=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,s);if(null!==u){var l=null;o&&(!function(e){he("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),l=i(u)),e.dispatch(le(o,l));var d=c.getSource(u).beginDrag(s,u);!function(e){he(de(e),"Item must be an object.")}(d),c.pinSource(u);var h=c.getSourceType(u);return{type:oe,payload:{itemType:h,item:d,sourceId:u,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!a}}}e.dispatch(pe)}}function ge(e){return function(){if(e.getMonitor().isDragging())return{type:ie}}}function me(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}var ve=n(38);function be(e){return function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset;!function(e){ve(Array.isArray(e),"Expected targetIds to be an array.")}(t);var r=t.slice(0),a=e.getMonitor(),o=e.getRegistry();return function(e,t,n){ve(t.isDragging(),"Cannot call hover while not dragging."),ve(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var a=e[r];ve(e.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(a);ve(o,"Expected targetIds to be registered.")}}(r,a,o),function(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r],o=t.getTargetType(a);me(o,n)||e.splice(r,1)}}(r,o,a.getItemType()),function(e,t,n){var r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value,u=n.getTarget(c);u.hover(t,c)}}catch(l){a=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}(r,a,o),{type:se,payload:{targetIds:r,clientOffset:n||null}}}}var ye=n(38);function Oe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();!function(e){ye(e.isDragging(),"Cannot call drop while not dragging."),ye(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach(function(a,o){var i=function(e,t,n,r){var a=n.getTarget(e),o=a?a.drop(r,e):void 0;(function(e){ye("undefined"===typeof e||de(e),"Drop result must either be an object or undefined.")})(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult());return o}(a,o,r,n),s={type:ce,payload:{dropResult:Object.assign({},t,i)}};e.dispatch(s)})}}var Ee=n(38);function De(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Ee(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:ue}}}var Ie=function(e,t){return e===t};var we={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ke(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case ae:case oe:return{initialSourceClientOffset:a.sourceClientOffset,initialClientOffset:a.clientOffset,clientOffset:a.clientOffset};case se:return e=n.clientOffset,t=a.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y?n:Object.assign({},n,{clientOffset:a.clientOffset});case ue:case ce:return we;default:return n}}var Ce="dnd-core/ADD_SOURCE",Se="dnd-core/ADD_TARGET",Te="dnd-core/REMOVE_SOURCE",Ne="dnd-core/REMOVE_TARGET";var je={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Pe(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case oe:return Object.assign({},n,{itemType:a.itemType,item:a.item,sourceId:a.sourceId,isSourcePublic:a.isSourcePublic,dropResult:null,didDrop:!1});case ie:return Object.assign({},n,{isSourcePublic:!0});case se:return Object.assign({},n,{targetIds:a.targetIds});case Ne:return-1===n.targetIds.indexOf(a.targetId)?n:Object.assign({},n,{targetIds:(e=n.targetIds,t=a.targetId,e.filter(function(e){return e!==t}))});case ce:return Object.assign({},n,{dropResult:a.dropResult,didDrop:!0,targetIds:[]});case ue:return Object.assign({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case Ce:case Se:return e+1;case Te:case Ne:return e-1;default:return e}}var Me=[],xe=[];function Fe(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case se:break;case Ce:case Se:case Ne:case Te:return Me;case oe:case ie:case ue:case ce:default:return xe}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,a=t.prevTargetIds,o=void 0===a?[]:a,i=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return n.forEach(function(e,t){1===e&&a.push(t)}),a}(r,o);if(!(i.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(r,o)))return Me;var s=o[o.length-1],c=r[r.length-1];return s!==c&&(s&&i.push(s),c&&i.push(c)),i}function _e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function Le(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Fe(r.dirtyHandlerIds,{type:a.type,payload:Object.assign({},a.payload,{prevTargetIds:(e=r,t="dragOperation.targetIds",n=[],t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:n||null},e))})}),dragOffset:ke(r.dragOffset,a),refCount:Re(r.refCount,a),dragOperation:Pe(r.dragOperation,a),stateId:_e(r.stateId)}}function Ae(e,t){return{x:e.x-t.x,y:e.y-t.y}}Me.__IS_NONE__=!0,xe.__IS_ALL__=!0;var He=n(38),Ue=function(){function e(t,n){Object(a.a)(this,e),this.store=t,this.registry=n}return Object(o.a)(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0}).handlerIds;He("function"===typeof e,"listener must be a function."),He("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe(function(){var a=t.store.getState(),o=a.stateId;try{o===r||o===r+1&&!function(e,t){return e!==Me&&(e===xe||"undefined"===typeof t||(n=e,t.filter(function(e){return n.indexOf(e)>-1})).length>0);var n}(a.dirtyHandlerIds,n)||e()}finally{r=o}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;He("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return He(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return He(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&(me(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return He(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(a&&!me(r,a))return!1;var o=this.getTargetIds();if(!o.length)return!1;var i=o.indexOf(e);return n?i===o.length-1:i>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,a=e.initialClientOffset,o=e.initialSourceClientOffset;return r&&a&&o?Ae((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),a):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?Ae(t,n):null}(this.store.getState().dragOffset)}}]),e}(),Be=n(416),Ve=0;var qe=n(38);function Ge(e,t){t&&Array.isArray(e)?e.forEach(function(e){return Ge(e,!1)}):qe("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ze=n(38),We=n(623);function Ke(e){var t=(Ve++).toString();switch(e){case J.SOURCE:return"S".concat(t);case J.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Xe(e){switch(e[0]){case"S":return J.SOURCE;case"T":return J.TARGET;default:ze(!1,"Cannot parse handler ID: ".concat(e))}}function Ye(e,t){var n=e.entries(),r=!1;do{var a=n.next(),o=a.done;if(Object(Be.a)(a.value,2)[1]===t)return!0;r=o}while(!r);return!1}var $e=function(){function e(t){Object(a.a)(this,e),this.store=t,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return Object(o.a)(e,[{key:"addSource",value:function(e,t){Ge(e),function(e){qe("function"===typeof e.canDrag,"Expected canDrag to be a function."),qe("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),qe("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(J.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Ce,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Ge(e,!0),function(e){qe("function"===typeof e.canDrop,"Expected canDrop to be a function."),qe("function"===typeof e.hover,"Expected hover to be a function."),qe("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(J.TARGET,e,t);return this.store.dispatch(function(e){return{type:Se,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Ye(this.dragSources,e)||Ye(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return ze(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return ze(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return ze(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Xe(e)===J.SOURCE}},{key:"isTargetId",value:function(e){return Xe(e)===J.TARGET}},{key:"removeSource",value:function(e){var t=this;ze(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Te,payload:{sourceId:e}}}(e)),We(function(){t.dragSources.delete(e),t.types.delete(e)})}},{key:"removeTarget",value:function(e){ze(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Ne,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);ze(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){ze(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Ke(e);return this.types.set(r,t),e===J.SOURCE?this.dragSources.set(r,n):e===J.TARGET&&this.dropTargets.set(r,n),r}}]),e}();var Qe=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(this,e),this.context=r,this.isSetUp=!1,this.handleRefCountChange=function(){var e=n.store.getState().refCount>0;e&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!e&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1)};var i=function(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(re.e)(Le,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(o);this.store=i,this.monitor=new Ue(i,new $e(i)),this.backend=t(this),i.subscribe(this.handleRefCountChange)}return Object(o.a)(e,[{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;var n=function(e){return{beginDrag:fe(e),publishDragSource:ge(e),hover:be(e),drop:Oe(e),endDrag:De(e)}}(this);return Object.keys(n).reduce(function(r,a){var o,i=n[a];return r[a]=(o=i,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=o.apply(e,r);"undefined"!==typeof i&&t(i)}),r},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),e}();function Je(e,t,n){return new Qe(e,t,n)}function Ze(e){return(t=e)&&t.prototype&&"function"===typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var et=n(38),tt=n(66),nt=l.createContext({dragDropManager:void 0}),rt=nt.Consumer,at=nt.Provider;function ot(e,t,n){return{dragDropManager:Je(e,t,n)}}function it(e){return"function"===typeof e}function st(){}function ct(e){if(!function(e){return"object"===typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}n(66),n(38),n(433);var ut=function(){function e(t){Object(a.a)(this,e),this.isDisposed=!1,this.action=it(t)?t:st}return Object(o.a)(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&it(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ut.empty={dispose:st};var lt=function(){function e(){Object(a.a)(this,e),this.isDisposed=!1}return Object(o.a)(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}(),dt=function(){function e(){Object(a.a)(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return Object(o.a)(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ht=n(38),pt=n(66),ft=n(433);function gt(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,c=e.createConnector,d=e.registerHandler,h=e.containerDisplayName,p=e.getType,f=e.collect,g=e.options.arePropsEqual,m=void 0===g?ft:g,v=t,b=t.displayName||t.name||"Component",y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).decoratedRef=l.createRef(),n.handleChange=function(){var e=n.getCurrentState();ft(e,n.state)||n.setState(e)},n.disposable=new lt,n.receiveProps(e),n.dispose(),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return ht(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!m(e,this.props)||!ft(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new lt,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){m(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(p(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=d(e,this.handler,this.manager),n=Object(Be.a)(t,2),r=n[0],a=n[1];this.handlerId=r,this.handlerMonitor.receiveHandlerId(r),this.handlerConnector.receiveHandlerId(r);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new dt(new ut(o),new ut(a)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?f(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return l.createElement(rt,null,function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(function(){return e.handlerConnector.reconnect()}),l.createElement(v,Object.assign({},e.props,e.getCurrentState(),{ref:Ze(v)?e.decoratedRef:null}))})}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(ht(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",b,b),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=c(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}]),t}(l.Component);return y.DecoratedComponent=t,y.displayName="".concat(h,"(").concat(b,")"),pt(y,t)}function mt(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return[a,function(){return r.removeSource(a)}]}function vt(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}var bt=n(38),yt=["canDrag","beginDrag","isDragging","endDrag"],Ot=["beginDrag"],Et=function(){function e(t,n,r){var o=this;Object(a.a)(this,e),this.spec=t,this.monitor=n,this.ref=r,this.props=null,this.beginDrag=function(){if(o.props)return o.spec.beginDrag(o.props,o.monitor,o.ref.current)}}return Object(o.a)(e,[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,vt(this.ref))}}]),e}();var Dt=n(38),It=!1,wt=!1,kt=function(){function e(t){Object(a.a)(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}return Object(o.a)(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Dt(!It,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return It=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{It=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Dt(!wt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return wt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{wt=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}(),Ct=n(38);function St(e,t){"function"===typeof e?e(t):e.current=t}n(624);function Tt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(l.isValidElement)(t)){var r=t;return e(r,n),r}var a=t;return function(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(a),function(e,t){var n=e.ref;return Ct("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(l.cloneElement)(e,{ref:function(e){St(t,e),n&&St(n,e)}}):Object(l.cloneElement)(e,{ref:t})}(a,n?function(t){return e(t,n)}:e)}}function Nt(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=Tt(r);t[n]=function(){return a}}}),t}function jt(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")}var Pt=n(433),Rt=function(){function e(t){var n=this;Object(a.a)(this,e),this.backend=t,this.hooks=Nt({dragSource:function(e,t){n.dragSourceOptions=t||null,jt(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.dragPreviewOptions=t||null,jt(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return Object(o.a)(e,[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)}},{key:"reconnectDragPreview",value:function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Pt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Pt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}]),e}();function Mt(e,t){return"string"===typeof e||"symbol"===typeof e||!!t&&Array.isArray(e)&&e.every(function(e){return Mt(e,!1)})}var xt=n(38);function Ft(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}var _t=n(38),Lt=["canDrop","hover","drop"],At=function(){function e(t,n,r){Object(a.a)(this,e),this.spec=t,this.monitor=n,this.ref=r,this.props=null}return Object(o.a)(e,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,vt(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}]),e}();var Ht=n(38),Ut=!1,Bt=function(){function e(t){Object(a.a)(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}return Object(o.a)(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Ht(!Ut,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ut=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ut=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}(),Vt=n(433),qt=function(){function e(t){var n=this;Object(a.a)(this,e),this.backend=t,this.hooks=Nt({dropTarget:function(e,t){n.dropTargetOptions=t,jt(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object(o.a)(e,[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Vt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}]),e}(),Gt=n(38);var zt=l.memo(function(e){var t=e.connect,n=e.src;if("undefined"!==typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null});zt.displayName="DragPreviewImage";n(433);n(38);n(38);n(38);n(38);var Wt=n(421),Kt=n(413),Xt=n(21),Yt=n(469),$t=n(448),Qt={disabled:H.a.bool,direction:H.a.oneOf(["up","down","left","right"]),group:H.a.bool,isOpen:H.a.bool,nav:H.a.bool,active:H.a.bool,addonType:H.a.oneOfType([H.a.bool,H.a.oneOf(["prepend","append"])]),size:H.a.string,tag:Y.m,toggle:H.a.func,children:H.a.node,className:H.a.string,cssModule:H.a.object,inNavbar:H.a.bool,setActiveFromChild:H.a.bool},Jt=function(e){function t(t){var n;return(n=e.call(this,t)||this).addEvents=n.addEvents.bind(Object(Kt.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(Kt.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(Kt.a)(n)),n.removeEvents=n.removeEvents.bind(Object(Kt.a)(n)),n.toggle=n.toggle.bind(Object(Kt.a)(n)),n.containerRef=d.a.createRef(),n}Object(Xt.a)(t,e);var n=t.prototype;return n.getContextValue=function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){return[].slice.call(this.getContainer().querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===Y.h.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==Y.h.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this;if(!(/input|textarea/i.test(e.target.tagName)||Y.h.tab===e.which&&"menuitem"!==e.target.getAttribute("role"))&&(e.preventDefault(),!this.props.disabled&&(this.getMenuCtrl()===e.target&&!this.props.isOpen&&[Y.h.space,Y.h.enter,Y.h.up,Y.h.down].indexOf(e.which)>-1&&(this.toggle(e),setTimeout(function(){return t.getMenuItems()[0].focus()})),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([Y.h.tab,Y.h.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([Y.h.space,Y.h.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([Y.h.down,Y.h.up].indexOf(e.which)>-1||[Y.h.n,Y.h.p].indexOf(e.which)>-1&&e.ctrlKey){var n=this.getMenuItems(),r=n.indexOf(e.target);Y.h.up===e.which||Y.h.p===e.which&&e.ctrlKey?r=0!==r?r-1:n.length-1:(Y.h.down===e.which||Y.h.n===e.which&&e.ctrlKey)&&(r=r===n.length-1?0:r+1),n[r].focus()}else if(Y.h.end===e.which){var a=this.getMenuItems();a[a.length-1].focus()}else if(Y.h.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var o=this.getMenuItems(),i=String.fromCharCode(e.which).toLowerCase(),s=0;s<o.length;s+=1){if((o[s].textContent&&o[s].textContent[0].toLowerCase())===i){o[s].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t,n=Object(Y.j)(this.props,["toggle","disabled","inNavbar"]),r=n.className,a=n.cssModule,o=n.direction,i=n.isOpen,s=n.group,c=n.size,u=n.nav,l=n.setActiveFromChild,h=n.active,p=n.addonType,f=n.tag,g=Object(W.a)(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),m=f||(u?"li":"div"),v=!1;l&&d.a.Children.map(this.props.children[1].props.children,function(e){e&&e.props.active&&(v=!0)});var b=Object(Y.i)(X()(r,"down"!==o&&"drop"+o,!(!u||!h)&&"active",!(!l||!v)&&"active",((e={})["input-group-"+p]=p,e["btn-group"]=s,e["btn-group-"+c]=!!c,e.dropdown=!s&&!p,e.show=i,e["nav-item"]=u,e)),a);return d.a.createElement($t.a.Provider,{value:this.getContextValue()},d.a.createElement(Yt.a,null,d.a.createElement(m,Object(z.a)({},g,((t={})["string"===typeof m?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:b}))))},t}(d.a.Component);Jt.propTypes=Qt,Jt.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1};var Zt=Jt,en={children:H.a.node},tn=function(e){return d.a.createElement(Zt,Object(z.a)({group:!0},e))};tn.propTypes=en;var nn=tn,rn=["defaultOpen"],an=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(Kt.a)(n)),n}Object(Xt.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return d.a.createElement(nn,Object(z.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(Y.j)(this.props,rn)))},t}(l.Component);an.propTypes=Object(Wt.a)({defaultOpen:H.a.bool},nn.propTypes);var on=n(639),sn=n(640),cn=n(641),un=n(505),ln="FileComponent",dn=n(137),hn=n(35),pn=n(625),fn=n.n(pn),gn={beginDrag:function(e){var t=e.item;return{Name:t.Name,Path:t.Path,IsDir:t.IsDir,remoteName:e.remoteName,remotePath:e.remotePath}},endDrag:function(){var e=Object(G.a)(q.a.mark(function e(t,n,r){var a,o,i,s,c,u,l,d,h,p,f;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,"Component:",r),e.prev=1,!n.getDropResult()||!r){e.next=17;break}if(a=n.getDropResult(),o=a.srcRemoteName,i=a.srcRemotePath,s=a.destRemoteName,c=a.destRemotePath,u=a.Name,l=a.IsDir,d=a.dropEffect,h=a.updateHandler,"move"!==d){e.next=13;break}return e.next=7,Object(C.b)(o,i,s,c,u,l);case 7:p=e.sent,console.log("Copy",p),h(),l?dn.b.info("Directory copying started in background: ".concat(u)):dn.b.info("File copying started in background: ".concat(u)),e.next=17;break;case 13:return e.next=15,Object(C.c)(o,i,s,c,u,l);case 15:h(),dn.b.info("Directory moving started in background: ".concat(u));case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),f=e.t0.response?e.t0.response:e.t0,console.log(JSON.stringify(f)),dn.b.error("Error copying file(s). ".concat(f),{autoClose:!1});case 24:case"end":return e.stop()}},e,null,[[1,19]])}));return function(t,n,r){return e.apply(this,arguments)}}()};function mn(e){var t=e.IsDir,n=e.MimeType,r="fa-file";return t?r="fa-folder":"application/pdf"===n?r="fa-file-pdf-o":"image/jpeg"===n?r="fa-file-image-o":"application/rar"===n||"application/x-rar-compressed"===n||" application/zip"===n?r="fa-file-archive-o":"text/plain"===n?r="fa-file-text-o":"text/x-vcard"===n&&(r="fa-address-card-o"),d.a.createElement("i",{className:r+" fa fa-lg"})}function vn(e,t){window.confirm("Are you sure you want to delete ".concat(t.Name))&&e(t)}function bn(e){var t=e.downloadHandle,n=e.deleteHandle,r=e.item,a=e.linkShareHandle;return r.IsDir?d.a.createElement(d.a.Fragment,null,d.a.createElement(an,null,d.a.createElement(on.a,{color:"link"},d.a.createElement("i",{className:"fa fa-ellipsis-v"})),d.a.createElement(sn.a,null,d.a.createElement(cn.a,{header:!0},"Actions"),d.a.createElement(cn.a,{onClick:function(){return a(r)}},d.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),d.a.createElement(cn.a,{divider:!0}),d.a.createElement(cn.a,{onClick:function(){return vn(n,r)}},d.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete ")))):d.a.createElement(d.a.Fragment,null,d.a.createElement(f.a,{color:"link",onClick:function(){return t(r)}},d.a.createElement("i",{className:"fa fa-cloud-download fa-lg d-inline"})),d.a.createElement(f.a,{color:"link"},d.a.createElement("i",{className:"fa fa-info-circle"})),d.a.createElement(an,null,d.a.createElement(on.a,{color:"link"},d.a.createElement("i",{className:"fa fa-ellipsis-v"})),d.a.createElement(sn.a,null,d.a.createElement(cn.a,{header:!0},"Actions"),d.a.createElement(cn.a,{onClick:function(){return a(r)}},d.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),d.a.createElement(cn.a,{divider:!0}),d.a.createElement(cn.a,{onClick:function(){return vn(n,r)}},d.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete "))))}var yn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).shouldDownloadImage=function(){var e=n.props,t=e.isImage,r=e.imageData,a=e.downloadImage,o=e.imgUrl;!(e.inViewport&&t&&o)||r&&r.data||a(o)},n.state={isLoading:!1,imgUrl:""},n.loadImage=n.loadImage.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"loadImage",value:function(){var e=Object(G.a)(q.a.mark(function e(t){var n,r,a;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,C.a.get(t,{responseType:"arraybuffer"});case 3:n=e.sent,r=new Blob([n.data]),a=URL.createObjectURL(r),this.setState({imgUrl:a,isLoading:!1});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.shouldDownloadImage()}},{key:"componentDidUpdate",value:function(e,t,n){e.inViewport!==this.props.inViewport&&this.shouldDownloadImage()}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.imageData,r=e.loadImages,a=e.clickHandler,o=e.downloadHandle,i=e.linkShareHandle,s=e.deleteHandle,c=e.connectDragSource,u=e.gridMode,l=e.itemIdx,h=t.IsDir,p=t.MimeType,f=t.ModTime,m=t.Name,b=t.Size,y=new Date(Date.parse(f)),O="image/jpeg"===p;return c("card"===u?d.a.createElement("div",{className:h?"":"col-md-4"},d.a.createElement(g.a,null,d.a.createElement(v.a,{onClick:function(e){return a(e,t)}},r&&O?!n||n.isLoading?d.a.createElement(Z,null,"Loading..."):d.a.createElement("img",{className:"img-thumbnail pd-0 m-0",src:n.data,alt:""}):d.a.createElement(mn,{IsDir:h,MimeType:p})," ",m),d.a.createElement(un.a,null,d.a.createElement(bn,{downloadHandle:o,linkShareHandle:i,deleteHandle:s,item:t})))):d.a.createElement("tr",{className:"pointer-cursor"},d.a.createElement("td",{className:"d-none d-md-table-cell"},d.a.createElement("input",{type:"checkbox"})),d.a.createElement("td",{onClick:function(e){return a(e,t)},id:"file"+l},d.a.createElement(mn,{IsDir:h,MimeType:p})," ",m),d.a.createElement("td",null,-1===b?"-":Object(T.g)(b,2)),d.a.createElement("td",{className:"d-none d-md-table-cell"},y.toLocaleDateString()),d.a.createElement("td",null,d.a.createElement(bn,{downloadHandle:o,linkShareHandle:i,deleteHandle:s,item:t}))))}}]),t}(d.a.Component),On=fn()(yn,{rootMargin:"-1.0px"}),En=Object(re.d)(Object(w.b)(function(e,t){var n=t.item,r=t.isBucketBased,a=t.loadImages,o="image/jpeg"===n.MimeType,i=localStorage.getItem(hn.b),s="";if(o&&a){var c=t.remoteName,u=t.remotePath;s=r?i+"[".concat(c,"]/").concat(u,"/").concat(n.Name):i+"[".concat(c,":").concat(u,"]/").concat(n.Name)}return{isImage:o,imgUrl:s,imageData:e.imageLoader[s]}},{downloadImage:function(e){return function(t){if(!e)throw new Error("Cannot have null url");t({type:S.w,status:S.B,payload:{url:e}}),C.a.get(e,{responseType:"arraybuffer"}).then(function(n){console.log(n);var r=new Blob([n.data]),a=URL.createObjectURL(r);t({type:S.w,status:S.C,payload:{url:e,data:a}})},function(n){t({type:S.w,status:S.A,payload:{url:e,error:n}})})}}}),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e;"function"!==typeof e&&(xt(Mt(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),a=function(){return e}),xt(ct(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var o=function(e){return Object.keys(e).forEach(function(t){bt(yt.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',yt.join(", "),t),bt("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),Ot.forEach(function(t){bt("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),function(t,n){return new Et(e,t,n)}}(t);return xt("function"===typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),xt(ct(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return gt({containerDisplayName:"DragSource",createHandler:o,registerHandler:mt,createConnector:function(e){return new Rt(e)},createMonitor:function(e){return new kt(e)},DecoratedComponent:e,getType:a,collect:n,options:r})}}(ln,gn,function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(On),Dn=n(652),In=n(642),wn=n(643),kn=n(429),Cn=n(644),Sn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).copyToClipboard=function(){var e=document.createElement("textarea");e.innerText=n.props.linkUrl,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()},n.handleFocus=function(e){return e.target.select()},n.state={copySuccess:""},n.toggle=n.toggle.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.linkUrl,r=this.state.copySuccess,a=!document||!document.queryCommandSupported||document.queryCommandSupported("copy");return d.a.createElement("div",null,d.a.createElement(Dn.a,{isOpen:t,toggle:this.toggle},d.a.createElement(In.a,{toggle:this.toggle,"data-test":"modalHeader"},"Public link generated."),d.a.createElement(wn.a,{"data-test":"modalBody"},d.a.createElement(kn.a,{readOnly:!0,value:n,onFocus:this.handleFocus}),a&&d.a.createElement("div",null,d.a.createElement(f.a,{color:"link",onClick:this.copyToClipboard},d.a.createElement("i",{className:"fa fa-clipboard fa-2x"}))),r),d.a.createElement(Cn.a,{"data-test":"modalFooter"},d.a.createElement(f.a,{color:"primary",onClick:this.toggle},"Done")," ")))}}]),t}(d.a.Component);Sn.defaultProps={isVisible:!0};var Tn=Sn;var Nn=function(e){var t=e.height,n=e.children;return d.a.createElement("div",{style:{overflow:"auto",height:t}},n)},jn={drop:function(e,t,n){if(!t.didDrop()){var r=t.getItem(),a=r.Name,o=r.Path,i=r.IsDir,s=r.remoteName;return{srcRemoteName:Object(T.a)(s),srcRemotePath:o,destRemoteName:Object(T.a)(e.currentPath.remoteName),destRemotePath:e.currentPath.remotePath,Name:a,IsDir:i,updateHandler:n.updateHandler}}},canDrop:function(e,t){var n=t.getItem(),r=n.remoteName,a=n.remotePath;console.log(r,e.currentPath.remoteName,a,e.currentPath.remotePath);var o=e.currentPath.remoteName,i=e.currentPath.remotePath;return o!==r||i!==a}};function Pn(e){var t=e.upButtonHandle;return"card"===e.gridMode?d.a.createElement(h.a,{lg:12},d.a.createElement(f.a,{onClick:function(){return t()}},"Go Up")):d.a.createElement("tr",{onClick:function(){return t()},className:"pointer-cursor"},d.a.createElement("td",{colSpan:1}),d.a.createElement("td",{colSpan:4},d.a.createElement("i",{className:"fa fa-file-o"})," Go Up..."))}var Rn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).closeLinkShareModal=function(){n.setState({showLinkShareModal:!1})},n.showLinkShareModal=function(){n.setState({showLinkShareModal:!0})},n.updateHandler=function(){var e=n.props.currentPath,t=e.remoteName,r=e.remotePath;n.getFilesList(t,r)},n.dismissAlert=function(e){n.setState({isDownloadProgress:!1})},n.linkShareHandle=function(e){if(n.props.fsInfo.Features.PublicLink){console.log("Sharing link"+e.Name);var t=n.props.currentPath.remoteName;C.a.post("operations/publiclink",{fs:Object(T.a)(t),remote:e.Path}).then(function(e){n.setState({generatedLink:e.data.url,showLinkShareModal:!0})},function(e){dn.b.error("Error Generating link: "+e)})}else dn.b.error("This remote does not support public link")},n.getFileComponents=function(e){var t=n.props,r=t.files,a=t.containerID,o=t.gridMode,i=t.fsInfo,s=t.loadImages,c=n.props.currentPath,u=c.remoteName,l=c.remotePath;if(i&&!Object(T.h)(i))return r.map(function(t,r){var c=t.ID,h=t.Name;return void 0===c&&(c=h),t.IsDir===e?d.a.createElement(d.a.Fragment,{key:c},d.a.createElement(En,{item:t,clickHandler:n.handleFileClick,downloadHandle:n.downloadHandle,deleteHandle:n.deleteHandle,remoteName:u,remotePath:l,gridMode:o,containerID:a,linkShareHandle:n.linkShareHandle,loadImages:s,isBucketBased:i.Features.BucketBased,canCopy:i.Features.Copy,canMove:i.Features.Move,itemIdx:r})):null})},n.state={isLoading:!1,isDownloadProgress:!1,downloadingItems:0,shouldUpdate:!0,showLinkShareModal:!1,generatedLink:""},n.handleFileClick=n.handleFileClick.bind(Object(c.a)(n)),n.downloadHandle=n.downloadHandle.bind(Object(c.a)(n)),n.deleteHandle=n.deleteHandle.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleFileClick",value:function(e,t){var n=t.Path,r=t.IsDir,a=t.IsBucket;r||a?this.updateRemotePath(n,r,a):this.downloadHandle(t)}},{key:"updateRemotePath",value:function(e,t,n){var r=this.props.currentPath.remoteName,a="",o="";n?(a=Object(T.a)(r)+e,o=""):t&&(a=r,o=e),this.props.changePath(this.props.containerID,a,o)}},{key:"getFilesList",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=this.props.currentPath,t=e.remoteName,n=e.remotePath;this.props.getFiles(t,n)}},{key:"downloadHandle",value:function(){var e=Object(G.a)(q.a.mark(function e(t){var n,r,a,o,i,s,c,u,l=this;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.currentPath,r=n.remoteName,a=n.remotePath,o=this.props.fsInfo,i="",i=o.Features.BucketBased?"/[".concat(r,"]/").concat(a,"/").concat(t.Name):"/[".concat(r,":").concat(a,"]/").concat(t.Name),this.setState(function(e){return{downloadingItems:e.downloadingItems+1,isDownloadProgress:!0}}),e.next=7,Object(C.a)({url:i,method:"GET",responseType:"blob"});case 7:s=e.sent,c=window.URL.createObjectURL(new Blob([s.data])),(u=document.createElement("a")).href=c,u.setAttribute("download",t.Name),document.body.appendChild(u),u.click(),this.setState(function(e){return{downloadingItems:e.downloadingItems-1}},function(){0===l.state.downloadingItems&&l.setState({isDownloadProgress:!1})});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteHandle",value:function(){var e=Object(G.a)(q.a.mark(function e(t){var n,r;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.currentPath.remoteName,r={fs:Object(T.a)(n),remote:t.Path},e.prev=2,!t.IsDir){e.next=10;break}return e.next=6,C.a.post("/operations/purge",r);case 6:this.updateHandler(),dn.b.info("".concat(t.Name," deleted.")),e.next=14;break;case 10:return e.next=12,C.a.post("/operations/deletefile",r);case 12:this.updateHandler(),dn.b.info("".concat(t.Name," deleted."),{autoClose:!1});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),dn.b.error("Error deleting file. ".concat(e.t0),{autoClose:!1});case 19:case"end":return e.stop()}},e,this,[[2,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isDownloadProgress,r=e.downloadingItems,a=e.generatedLink,o=e.showLinkShareModal,i=this.props,s=i.connectDropTarget,c=i.isOver,u=i.files,l=i.navigateUp,f=i.containerID,g=i.gridMode,m=i.canDrop,v=this.props.currentPath.remoteName;if(t||!u)return d.a.createElement("div",null,d.a.createElement(Z,{color:"primary"})," Loading");if(""===v)return d.a.createElement("div",null,"No remote is selected. Select a remote from above to show files.");var b=this.getFileComponents(!0),y=this.getFileComponents(!1),O="";return O="card"===g?d.a.createElement(ee.a,{fluid:!0},d.a.createElement(p.a,null,d.a.createElement(Pn,{upButtonHandle:function(){return l(f)},gridMode:g})),d.a.createElement(p.a,null,d.a.createElement(h.a,{lg:3},d.a.createElement("h3",null,"Directories"),d.a.createElement(Nn,{height:hn.a},b)),d.a.createElement(h.a,{lg:9},d.a.createElement("h3",null,"Files"),d.a.createElement(Nn,{height:hn.a},d.a.createElement(p.a,null,y))))):d.a.createElement(ee.a,{fluid:!0,className:"pd-0"},d.a.createElement(Nn,{height:hn.a},d.a.createElement(te.a,{className:"table-responsive-sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"d-none d-md-table-cell"},"x"),d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"Size"),d.a.createElement("th",{className:"d-none d-md-table-cell"},"Modified"),d.a.createElement("th",null,"Actions"))),d.a.createElement("tbody",null,d.a.createElement(Pn,{upButtonHandle:function(){return l(f)},gridMode:g}),u.length>0?d.a.createElement(d.a.Fragment,null,d.a.createElement("tr",null,d.a.createElement("td",{colSpan:1,className:"d-none d-md-block"}),d.a.createElement("th",{colSpan:4},"Directories")),b,d.a.createElement("tr",null,d.a.createElement("td",{className:"d-none d-md-table-cell"}),d.a.createElement("th",null,"Files"),d.a.createElement("td",{className:"d-none d-md-table-cell"}),d.a.createElement("td",null),d.a.createElement("td",null)),y):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:1,className:"d-none d-md-table-cell"}),d.a.createElement("th",{colSpan:4},"Files")))))),s(d.a.createElement("div",{className:"row"},c&&m&&d.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:"gray"}}),d.a.createElement(ne.a,{color:"info",isOpen:n,toggle:this.dismissAlert,sm:12,lg:12},"Downloading ",r," file(s). Please wait."),O,d.a.createElement(Tn,{closeModal:this.closeLinkShareModal,isVisible:o,linkUrl:a})))}}]),t}(d.a.PureComponent);Rn.defaultProps={};var Mn=Object(re.d)(Object(w.b)(function(e,t){var n=e.explorer.currentPaths[t.containerID],r=e.explorer.visibilityFilters[t.containerID],a=e.explorer.gridMode[t.containerID],o=e.explorer.searchQueries[t.containerID],i=e.explorer.loadImages[t.containerID],s={},c=n.remoteName,u=n.remotePath;if(n&&e.remote.configs){var l=c.split(":")[0];e.remote.configs[l]&&(s=e.remote.configs[l])}var d="".concat(c,"-").concat(u),h=e.remote.files[d];return h&&(h=h.files,r&&(h=Object(T.d)(h,r)),o&&(h=Object(T.e)(h,o))),{files:h,currentPath:n,fsInfo:s,gridMode:a,searchQuery:o,loadImages:i}},{getFiles:_,navigateUp:M,changePath:N}),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e;"function"!==typeof e&&(Gt(Mt(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),a=function(){return e}),Gt(ct(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=function(e){return Object.keys(e).forEach(function(t){_t(Lt.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Lt.join(", "),t),_t("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])}),function(t,n){return new At(e,t,n)}}(t);return Gt("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),Gt(ct(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return gt({containerDisplayName:"DropTarget",createHandler:o,registerHandler:Ft,createMonitor:function(e){return new Bt(e)},createConnector:function(e){return new qt(e)},DecoratedComponent:e,getType:a,collect:n,options:r})}}(ln,jn,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(Rn),xn={tag:Y.m,"aria-label":H.a.string,className:H.a.string,cssModule:H.a.object,role:H.a.string,size:H.a.string,vertical:H.a.bool},Fn=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.vertical,o=e.tag,i=Object(W.a)(e,["className","cssModule","size","vertical","tag"]),s=Object(Y.i)(X()(t,!!r&&"btn-group-"+r,a?"btn-group-vertical":"btn-group"),n);return d.a.createElement(o,Object(z.a)({},i,{className:s}))};Fn.propTypes=xn,Fn.defaultProps={tag:"div",role:"group"};var _n=Fn,Ln=n(427),An=n(428),Hn=n(493),Un=n(494),Bn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).disableForm=function(e){n.setState({disableForm:e})},n.changeName=function(e){var t=e.target.value;n.setState({name:t})},n.state={name:"",disableForm:!1},n.createNewFolder=n.createNewFolder.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.toggle=n.toggle.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"createNewFolder",value:function(){var e=Object(G.a)(q.a.mark(function e(){var t,n,r,a,o,i;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.name,n=this.props.currentPath,r=n.remoteName,a=n.remotePath,o=this.props.fsInfo,r=Object(T.a)(r),e.prev=4,o.Features.BucketBased&&""===a?r+=t:""===a?a=t:a+="/"+t,i={fs:r,remote:a},this.disableForm(!0),e.next=10,C.a.post("operations/mkdir",i);case 10:this.disableForm(!1),this.toggle(),dn.b.info("Folder created: ".concat(a)),this.props.getFilesForContainerID(this.props.containerID),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),this.disableForm(!1),e.t0.response?dn.b.error("Error creating folder: ".concat(e.t0.response.data.error)):dn.b.error("Error creating folder: ".concat(e.t0));case 20:case"end":return e.stop()}},e,this,[[4,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),this.createNewFolder()}},{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.disableForm,r=this.props,a=r.isVisible,o=r.currentPath;return d.a.createElement(Dn.a,{isOpen:a,toggle:this.toggle,"data-test":"newFolderComponent"},d.a.createElement(L.a,{onSubmit:this.handleSubmit},d.a.createElement(In.a,{toggle:this.toggle},"Create New folder at ",o.remoteName,": ",o.remotePath),d.a.createElement(wn.a,null,d.a.createElement(Hn.a,{row:!0},d.a.createElement(Un.a,{for:"folderName",sm:5},"Enter the name"),d.a.createElement(h.a,{sm:7},d.a.createElement(kn.a,{type:"text",name:"folderName",id:"folderName",value:t,onChange:this.changeName,required:!0,autoFocus:!0}))),d.a.createElement("div",{className:"clearfix"},d.a.createElement(f.a,{type:"submit",color:"success",className:"float-right",disabled:n},d.a.createElement("i",{className:"fa fa-check fa-lg"}),"Create folder")))))}}]),t}(d.a.Component),Vn=Object(w.b)(function(e,t){var n=e.explorer.currentPaths[t.containerID],r={};return n&&e.remote.configs&&e.remote.configs[n.remoteName]&&(r=e.remote.configs[n.remoteName]),{currentPath:n,fsInfo:r}},{getFilesForContainerID:P})(Bn),qn=n(452),Gn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).openNewFolderModal=function(){var e=n.props.fsInfo;e&&e.Features&&e.Features.CanHaveEmptyDirectories?n.setState({newFolderModalIsVisible:!0}):dn.b.error("This remote cannot have empty directories")},n.closeNewFolderModal=function(){n.setState({newFolderModalIsVisible:!1})},n.handleChangeFilter=function(e){var t=e.target.value;(0,n.props.changeVisibilityFilter)(n.props.containerID,t),n.toggleDropDown()},n.handleChangeGridMode=function(e){var t=e.target.value;(0,n.props.changeGridMode)(n.props.containerID,t),n.toggleDropDown()},n.changeSearch=function(e){e.preventDefault();var t=n.props.containerID;n.props.setSearchQuery(t,e.target.value)},n.toggleDropDown=function(){n.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},n.toggleAboutModal=function(){var e=n.props.fsInfo;e&&e.Features&&e.Features.About?n.setState(function(e){return{isAboutModalOpen:!e.isAboutModalOpen}},function(){if(n.state.isAboutModalOpen){var e=n.props.containerID;n.props.getAbout(e)}}):dn.b.error("This remote does not support About")},n.handleCleanTrash=function(){var e=n.props.fsInfo;if(e&&e.Features&&e.Features.CleanUp){if(window.confirm("Are you sure you want to clear the trash. This operation cannot be undone")){var t=n.props,r=t.currentPath,a=t.containerID,o=r.remoteName;Object(T.i)(o)||(o=Object(T.a)(o)),C.a.post("operations/cleanup",{fs:o}).then(function(e){200===e.status&&(Object(dn.b)("Trash Cleaned"),n.props.getAbout(a))},function(e){dn.b.error("Error clearing trash")})}}else dn.b.error("Clearing trash is not allowed on this remote")},n.changeLoadImages=function(e){e.stopPropagation();var t=n.props;(0,t.setLoadImages)(t.containerID,!t.loadImages)},n.state={newFolderModalIsVisible:!1,isAboutModalOpen:!1,dropdownOpen:!1},n.filterOptions=hn.h,n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.containerID,n=e.loadImages,r=e.getFilesForContainerID,a=e.visibilityFilter,o=e.gridMode,i=e.navigateFwd,s=e.navigateBack,c=e.searchQuery,u=e.currentPath,l=e.doughnutData,g=this.state,m=g.newFolderModalIsVisible,v=g.dropdownOpen,b=g.isAboutModalOpen,y=u.remoteName,O=u.remotePath;return d.a.createElement("nav",{"aria-label":"breadcrumb"},d.a.createElement("ol",{className:"breadcrumb"},d.a.createElement("li",{className:"breadcrumb-item active"},y,":/"),O,d.a.createElement("li",{className:"breadcrumb-menu"},d.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Button group with nested dropdown"},d.a.createElement(f.a,{onClick:this.toggleAboutModal,className:"btn"},d.a.createElement("i",{className:"cui-settings"})," Settings")))),d.a.createElement("div",null,d.a.createElement(f.a,{color:"light",className:"mr-1 btn-outline-dark",onClick:function(){return s(t)}},d.a.createElement("i",{className:"fa fa-lg fa-angle-left"})),d.a.createElement(f.a,{color:"light",className:"mr-1 btn-outline-dark",onClick:function(){return i(t)}},d.a.createElement("i",{className:"fa fa-lg fa-angle-right"})),d.a.createElement("div",{className:"float-right mb-3 mt-1 form-inline"},d.a.createElement(_n,null,d.a.createElement(f.a,{className:"mr-1 btn-outline-dark",onClick:this.openNewFolderModal},d.a.createElement("i",{className:"fa fa-lg fa-plus"})," "),d.a.createElement(f.a,{className:"mr-1 btn-outline-dark",onClick:function(){return r(t)}},d.a.createElement("i",{className:"fa fa-lg fa-repeat"})),d.a.createElement(Ln.a,null,d.a.createElement(An.a,{addonType:"prepend"},d.a.createElement(f.a,{type:"button",color:"primary"},d.a.createElement("i",{className:"fa fa-search"})," Search")),d.a.createElement(kn.a,{type:"text",id:"input1-group2",placeholder:"Search",value:c,onChange:this.changeSearch})),d.a.createElement(nn,{isOpen:v,toggle:this.toggleDropDown},d.a.createElement(on.a,{caret:!0},"More"),d.a.createElement(sn.a,null,d.a.createElement(cn.a,null,"View Type"," ",d.a.createElement(kn.a,{type:"select",onClick:function(e){return e.stopPropagation()},onChange:this.handleChangeGridMode,value:o},d.a.createElement("option",{value:"grid"},"Table"),d.a.createElement("option",{value:"card"},"Card"))),d.a.createElement(cn.a,null,"File Filter"," ",d.a.createElement(kn.a,{type:"select",onClick:function(e){return e.stopPropagation()},onChange:this.handleChangeFilter,value:a,className:"ml-1 mr-1"},d.a.createElement("option",{key:0},"None"),this.filterOptions.map(function(e,t){return d.a.createElement("option",{key:e,value:e},e)}))),"grid"!==o&&d.a.createElement(cn.a,{onClick:this.changeLoadImages},"Load Images"," ",d.a.createElement(kn.a,{id:"loadImg"+t,checked:n,type:"checkbox",onClick:function(e){return e.stopPropagation()},onChange:this.changeLoadImages,className:"ml-1 mr-1"}))))),d.a.createElement(Vn,{containerID:t,isVisible:m,closeModal:this.closeNewFolderModal}),d.a.createElement(Dn.a,{isOpen:b,toggle:this.toggleAboutModal},d.a.createElement(In.a,null,"Status for ",y),d.a.createElement(wn.a,null,d.a.createElement(p.a,null,d.a.createElement(h.a,{sm:12},d.a.createElement("div",{className:"chart-wrapper"},d.a.createElement("p",null,"Space Usage (in GB)"),l&&!Object(T.h)(l)?d.a.createElement(qn.a,{data:l}):d.a.createElement(d.a.Fragment,null,d.a.createElement(Z,{color:"primary"}),"Loading")))),d.a.createElement(p.a,null,d.a.createElement(h.a,{sm:12},d.a.createElement(f.a,{color:"danger",onClick:this.handleCleanTrash},"Clean Trash ",d.a.createElement("i",{className:"fa fa-lg fa-trash"}))))),d.a.createElement(Cn.a,null)))))}}]),t}(d.a.Component),zn=Object(w.b)(function(e,t){var n=e.providerStatus.about[t.containerID],r={},a=e.explorer.currentPaths[t.containerID],o={};if(a&&e.remote.configs&&e.remote.configs[a.remoteName]&&(o=e.remote.configs[a.remoteName]),n){for(var i=[],s=[],c=0,u=Object.entries(n);c<u.length;c++){var l=u[c],d=Object(Be.a)(l,2),h=d[0],p=d[1];"total"!==h&&(i.push(h),s.push(Object(T.b)(p).toFixed(2)))}i.length>1&&s.length>1&&(r={labels:i,datasets:[{data:s,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"]}]})}return{visibilityFilter:e.explorer.visibilityFilters[t.containerID],loadImages:e.explorer.loadImages[t.containerID],currentPath:e.explorer.currentPaths[t.containerID],gridMode:e.explorer.gridMode[t.containerID],searchQuery:e.explorer.searchQueries[t.containerID],fsInfo:o,doughnutData:r}},{changeVisibilityFilter:function(e,t){return function(n){n({type:S.l,id:e,filter:t})}},changeGridMode:function(e,t){return function(n){n({type:S.c,id:e,mode:t})}},navigateBack:F,navigateFwd:x,getFilesForContainerID:P,setSearchQuery:function(e,t){return function(n){n({type:S.j,id:e,searchQuery:t})}},getAbout:function(e){return function(t,n){var r=n().explorer.currentPaths[e].remoteName;r&&(Object(T.i)(r)||(r=Object(T.a)(r)),t({type:S.u,status:S.C,id:e,payload:{}}),C.a.post("operations/about",{fs:r}).then(function(n){t({type:S.u,status:S.C,id:e,payload:n.data})},function(n){t({type:S.u,status:S.A,id:e,error:n})}))}},setLoadImages:function(e,t){return function(n){n({type:S.f,id:e,payload:t})}}})(Gn),Wn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={remoteNameTemp:""},n.updateRemoteName=n.updateRemoteName.bind(Object(c.a)(n)),n.updateRemotePath=n.updateRemotePath.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"updateRemoteName",value:function(e){this.setState({remoteNameTemp:e})}},{key:"updateRemotePath",value:function(e,t,n){var r=this.props.currentPath.remoteName,a="",o="";n?(a=Object(T.a)(r)+e,o=""):t&&(a=r,o=e),this.props.changePath(this.props.containerID,a,o)}},{key:"render",value:function(){var e=this.props.currentPath.remoteName,t=this.props,n=t.containerID,r=t.distractionFreeMode,a=e&&""!==e;return d.a.createElement(d.a.Fragment,null,!r&&d.a.createElement(g.a,null,d.a.createElement(m.a,null,"Remotes"),d.a.createElement(v.a,null,d.a.createElement(B,{remoteName:e,containerID:n}))),a&&d.a.createElement(g.a,null,d.a.createElement(m.a,null,d.a.createElement(zn,{containerID:n})),d.a.createElement(v.a,null,d.a.createElement(Mn,{containerID:n}))))}}]),t}(d.a.Component);Wn.defaultProps={};var Kn=Object(w.b)(function(e,t){var n=e.explorer.currentPaths[t.containerID],r={},a=n.remoteName;if(n&&e.remote.configs){var o=a.split(":")[0];e.remote.configs[o]&&(r=e.remote.configs[o])}return{configs:e.remote.configs,hasError:e.remote.hasError,error:e.remote.error,currentPath:e.explorer.currentPaths[t.containerID],fsInfo:r}},{createPath:R,changePath:N,changeRemoteName:j,changeRemotePath:function(e,t){return function(n){n({type:S.i,id:e,remotePath:t}),n(P(e))}},navigateUp:M,navigateBack:F,navigateFwd:x})(Wn);function Xn(e){var t=null;return function(){return null==t&&(t=e()),t}}var Yn=function(){function e(t){Object(a.a)(this,e),this.entered=[],this.isNodeInDocument=t}return Object(o.a)(e,[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var a=[];return n.forEach(function(e){return a.push(e)}),a}(this.entered.filter(function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))}),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter(function(e){return e!==n})),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}(),$n=Xn(function(){return/firefox/i.test(navigator.userAgent)}),Qn=Xn(function(){return Boolean(window.safari)}),Jn=function(){function e(t,n){Object(a.a)(this,e);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort(function(e,n){return t[e]<t[n]?-1:1});for(var s,c,u=[],l=[],d=[],h=0;h<r-1;h++)s=t[h+1]-t[h],c=n[h+1]-n[h],l.push(s),u.push(c),d.push(c/s);for(var p=[d[0]],f=0;f<l.length-1;f++){var g=d[f],m=d[f+1];if(g*m<=0)p.push(0);else{s=l[f];var v=l[f+1],b=s+v;p.push(3*b/((b+v)/g+(b+s)/m))}}p.push(d[d.length-1]);for(var y,O=[],E=[],D=0;D<p.length-1;D++){y=d[D];var I=p[D],w=1/l[D],k=I+p[D+1]-y-y;O.push((y-I-k)*w),E.push(k*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=O,this.c3s=E}return Object(o.a)(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,o=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var s,c=0,u=o.length-1;c<=u;){var l=t[s=Math.floor(.5*(c+u))];if(l<e)c=s+1;else{if(!(l>e))return n[s];u=s-1}}var d=e-t[i=Math.max(0,u)],h=d*d;return n[i]+r[i]*d+a[i]*h+o[i]*d*h}}]),e}(),Zn=1;function er(e){var t=e.nodeType===Zn?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function tr(e){return{x:e.clientX,y:e.clientY}}function nr(e,t,n,r,a){var o,i="IMG"===(o=t).nodeName&&($n()||!document.documentElement.contains(o)),s=er(i?e:t),c={x:n.x-s.x,y:n.y-s.y},u=e.offsetWidth,l=e.offsetHeight,d=r.anchorX,h=r.anchorY,p=function(e,t,n,r){var a=e?t.width:n,o=e?t.height:r;return Qn()&&e&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}}(i,t,u,l),f=p.dragPreviewWidth,g=p.dragPreviewHeight,m=a.offsetX,v=a.offsetY,b=0===v||v;return{x:0===m||m?m:new Jn([0,.5,1],[c.x,c.x/u*f,c.x+f-u]).interpolate(d),y:b?v:function(){var e=new Jn([0,.5,1],[c.y,c.y/l*g,c.y+g-l]).interpolate(h);return Qn()&&i&&(e+=(window.devicePixelRatio-1)*g),e}()}}var rr,ar="__NATIVE_FILE__",or="__NATIVE_URL__",ir="__NATIVE_TEXT__";function sr(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},"");return null!=r?r:n}var cr=(rr={},Object(k.a)(rr,ar,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Object(k.a)(rr,or,{exposeProperties:{urls:function(e,t){return sr(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Object(k.a)(rr,ir,{exposeProperties:{text:function(e,t){return sr(e,t,"")}},matchesTypes:["Text","text/plain"]}),rr),ur=function(){function e(t){var n=this;Object(a.a)(this,e),this.config=t,this.item={},Object.keys(this.config.exposeProperties).forEach(function(e){Object.defineProperty(n.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})})}return Object(o.a)(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach(function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}}),Object.defineProperties(this.item,n)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function lr(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(cr).filter(function(e){return cr[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}var dr=function(){function e(t){var n=this;Object(a.a)(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return er(n.sourceNodes.get(e))},this.endDragNativeItem=function(){n.isDraggingNativeItem()&&(n.actions.endDrag(),n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!n.window&&n.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=n.currentDragSourceNode;n.isNodeInDocument(e)||n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var t=n.dragStartSourceIds;n.dragStartSourceIds=null;var r=tr(e);n.monitor.isDragging()&&n.actions.endDrag(),n.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:r});var a=e.dataTransfer,o=lr(a);if(n.monitor.isDragging()){if(a&&"function"===typeof a.setDragImage){var i=n.monitor.getSourceId(),s=n.sourceNodes.get(i),c=n.sourcePreviewNodes.get(i)||s;if(c){var u=n.getCurrentSourcePreviewNodeOptions(),l=nr(s,c,r,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});a.setDragImage(c,l.x,l.y)}}try{a.setData("application/json",{})}catch(d){}n.setCurrentDragSourceNode(e.target),n.getCurrentSourcePreviewNodeOptions().captureDraggingState?n.actions.publishDragSource():setTimeout(function(){return n.actions.publishDragSource()},0)}else if(o)n.beginDragNativeItem(o);else{if(a&&!a.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(n.dragEnterTargetIds=[],n.enterLeaveCounter.enter(e.target)&&!n.monitor.isDragging()){var t=lr(e.dataTransfer);t&&n.beginDragNativeItem(t)}},this.handleTopDragEnter=function(e){var t=n.dragEnterTargetIds;(n.dragEnterTargetIds=[],n.monitor.isDragging())&&(n.altKeyPressed=e.altKey,$n()||n.actions.hover(t,{clientOffset:tr(e)}),t.some(function(e){return n.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){n.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));n.altKeyPressed=e.altKey,n.actions.hover(t||[],{clientOffset:tr(e)}),(t||[]).some(function(e){return n.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){n.isDraggingNativeItem()&&e.preventDefault(),n.enterLeaveCounter.leave(e.target)&&n.isDraggingNativeItem()&&n.endDragNativeItem()},this.handleTopDropCapture=function(e){n.dropTargetIds=[],e.preventDefault(),n.isDraggingNativeItem()&&n.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(t,{clientOffset:tr(e)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.enterLeaveCounter=new Yn(this.isNodeInDocument)}return Object(o.a)(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Object.assign({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Object.assign({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some(function(t){return r[t]===e})}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e){return new ur(cr[e])}(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout(function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!==typeof window?window:void 0}}]),e}();function hr(e){for(var t=e.cols,n=e.distractionFreeMode,r=[],a=12/t,o=0;o<t;o++)r.push(d.a.createElement(h.a,{xs:12,sm:12,md:a,lg:a,key:o},d.a.createElement(Kn,{containerID:o.toString(),distractionFreeMode:n})));return r}var pr=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).changeLayout=function(e,t){var r=n.props.changeNumCols;"side"===t&&e!==r&&r(e)},n.toggleDistractionFreeMode=function(e){var t=n.props,r=t.distractionFreeMode;(0,t.changeDistractionFreeMode)(!r)},n.changeLayout=n.changeLayout.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.numCols,n=e.changeNumCols;t<1&&n(1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.numCols,r=t.backStacks,a=t.distractionFreeMode;return d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{className:"d-none d-md-block","data-test":"remoteExplorerLayout"},a&&d.a.createElement("div",{className:"clearfix float-right"},d.a.createElement(f.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},d.a.createElement("i",{className:"fa fa-arrows"}))),!a&&d.a.createElement(h.a,{sm:12,lg:12},d.a.createElement(g.a,null,d.a.createElement(m.a,null,"Choose Layout"),d.a.createElement(v.a,null,d.a.createElement(f.a,{color:"primary",className:"ml-2",onClick:function(){return e.changeLayout(1,"side")}},"1 - side by side"),d.a.createElement(f.a,{color:"primary",className:"ml-2",onClick:function(){return e.changeLayout(2,"side")}},"2 - side by side"),d.a.createElement(f.a,{color:"primary",className:"ml-2",onClick:function(){return e.changeLayout(3,"side")}},"3 - side by side"),d.a.createElement(f.a,{color:"primary",className:"ml-2",onClick:function(){return e.changeLayout(4,"side")}},"4 - side by side"),d.a.createElement(f.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},d.a.createElement("i",{className:"fa fa-arrows"})))))),d.a.createElement(p.a,null,d.a.createElement(hr,{cols:n,backStacks:r,distractionFreeMode:a})))}}]),t}(d.a.Component);t.default=Object(re.d)(Object(w.b)(function(e){return{backStacks:e.explorer.backStacks,numCols:e.remote.numCols,distractionFreeMode:e.remote.distractionFreeMode}},{createPath:R,changeNumCols:function(e){return function(t){if(!e||e<0)throw new Error("Invalid number of cols:".concat(e));for(var n=0;n<e;n++)t(R(n.toString()));t({type:S.e,payload:{numCols:e}})}},changeDistractionFreeMode:function(e){return function(t){t({type:S.b,payload:e})}}}),function(e,t,n){var r=ot(e,t,n);return function(e){var t=e,n=t.displayName||t.name||"Component",c=function(e){function n(){var e;return Object(a.a)(this,n),(e=Object(i.a)(this,Object(s.a)(n).apply(this,arguments))).ref=l.createRef(),e.getManager=function(){return r.dragDropManager},e}return Object(u.a)(n,e),Object(o.a)(n,[{key:"getDecoratedComponentInstance",value:function(){return et(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"render",value:function(){return l.createElement(at,{value:r},l.createElement(t,Object.assign({},this.props,{ref:Ze(t)?this.ref:null})))}}]),n}(l.Component);return c.DecoratedComponent=e,c.displayName="DragDropContext(".concat(n,")"),tt(c,e)}}(function(e){return new dr(e)}))(pr)}}]);
//# sourceMappingURL=7.213765db.chunk.js.map