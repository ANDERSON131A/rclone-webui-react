(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{382:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u});var a=n(387),r=n.n(a),c=n(388),l=n(399),o=n.n(l).a.create({baseURL:localStorage.getItem("ipAddress"),headers:{"Content-Type":"application/json"},responseType:"json"});function s(e,t,n,a,r,c){return i(e,t,n,a,r,c,"move")}function u(e,t,n,a,r,c){return i(e,t,n,a,r,c,"copy")}function i(e,t,n,a,r,c,l){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark(function e(t,n,a,c,l,s,u){var i,m,f,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i="",i="move"===u?s?"/sync/move":"/operations/movefile":s?"/sync/copy":"/operations/copyfile",!s){e.next=10;break}return m=n.split("/"),f={srcFs:t+n,dstFs:a+c+"/"+m[m.length-1]},e.next=7,o.post(i,f);case 7:return e.abrupt("return",e.sent);case 10:return""===c?c=l:c+="/"+l,d={srcFs:t,srcRemote:n,dstFs:a,dstRemote:c},e.next=14,o.post(i,d);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}o.interceptors.request.use(function(e){return e.headers.Authorization="Basic "+btoa(localStorage.getItem("username")+":"+localStorage.getItem("password")),e},function(e){return Promise.reject(e)}),t.a=o},385:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e<1)return"0 B";var n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function r(e){function t(e){return e>1?"s":""}var n=Math.floor(e/31536e3);if(n)return n+" year"+t(n);var a=Math.floor((e%=31536e3)/86400);if(a)return a+" day"+t(a);var r=Math.floor((e%=86400)/3600);if(r)return r+" hour"+t(r);var c=Math.floor((e%=3600)/60);return c?c+" minute"+t(c):(e%=60)?e.toFixed(2)+" second"+t(e):"Just now"}function c(e,t){return e.test(t)}function l(e){return c(/^(off|(([0-9]+[.][0-9]+|[0-9]+)([KMGTP])))$/i,e)}function o(e){return c(/^([0-9]+)$/,e)}function s(e){return c(/^(\d+[h])?(\d+[m])?(\d+[s])?(\d+ms)??$/i,e)}function u(e,t){return e.find(function(e,n,a){return t===e.Prefix})}function i(e){return-1===e.indexOf(":")&&":"!==e[e.length-1]&&(e+=":"),e}n.d(t,"e",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return f}),t.c=function(e){if(Array.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var m={Images:"image/jpeg",Pdf:"application/pdf"};function f(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:m)[t];return n?e.filter(function(e){return e.IsDir||e.MimeType===n}):e}},391:function(e,t,n){"use strict";var a=n(3),r=n(17),c=n(0),l=n.n(c),o=n(1),s=n.n(o),u=n(63),i=n.n(u),m=n(380),f={tag:m.n,noGutters:s.a.bool,className:s.a.string,cssModule:s.a.object,form:s.a.bool},d=function(e){var t=e.className,n=e.cssModule,c=e.noGutters,o=e.tag,s=e.form,u=Object(r.a)(e,["className","cssModule","noGutters","tag","form"]),f=Object(m.j)(i()(t,c?"no-gutters":null,s?"form-row":"row"),n);return l.a.createElement(o,Object(a.a)({},u,{className:f}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},395:function(e,t,n){"use strict";var a=n(3),r=n(17),c=n(0),l=n.n(c),o=n(1),s=n.n(o),u=n(63),i=n.n(u),m=n(380),f={tag:m.n,inverse:s.a.bool,color:s.a.string,block:Object(m.f)(s.a.bool,'Please use the props "body"'),body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,n=e.cssModule,c=e.color,o=e.block,s=e.body,u=e.inverse,f=e.outline,d=e.tag,p=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","block","body","inverse","outline","tag","innerRef"]),g=Object(m.j)(i()(t,"card",!!u&&"text-white",!(!o&&!s)&&"card-body",!!c&&(f?"border":"bg")+"-"+c),n);return l.a.createElement(d,Object(a.a)({},b,{className:g,ref:p}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},396:function(e,t,n){"use strict";var a=n(3),r=n(17),c=n(0),l=n.n(c),o=n(1),s=n.n(o),u=n(63),i=n.n(u),m=n(380),f={tag:m.n,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,n=e.cssModule,c=e.innerRef,o=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(m.j)(i()(t,"card-body"),n);return l.a.createElement(o,Object(a.a)({},s,{className:u,ref:c}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},398:function(e,t){var n=NaN,a="[object Symbol]",r=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,u=Object.prototype.toString;function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==a}(e))return n;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var m=l.test(e);return m||o.test(e)?s(e.slice(2),m?2:8):c.test(e)?n:+e}},405:function(e,t,n){"use strict";var a=n(42),r=n(43),c=n(128),l=n(127),o=n(129),s=n(0),u=n.n(s),i=n(395),m=n(416),f=n(396),d=n(415),p=n(391),b=n(394),g=n(385),v=n(131);function E(e){var t=e.job,n=t.name,a=t.eta,r=t.percentage,c=t.speed,l=t.speedAvg,o=t.size,s=t.bytes;return u.a.createElement(i.a,null,u.a.createElement(m.a,null,"Running Jobs"),u.a.createElement(f.a,null,u.a.createElement("p",null,n)," ",u.a.createElement(d.a,{value:r,className:"mb-2"},r," %")," ",u.a.createElement("p",null,u.a.createElement("strong",null,"Speed: "),Object(g.e)(c),"PS")," ",u.a.createElement("p",null,u.a.createElement("strong",null,"Average Speed: "),Object(g.e)(l),"PS")," ",u.a.createElement("p",null,u.a.createElement("strong",null,"Total transferred: "),Object(g.e)(s))," ",u.a.createElement("p",null,u.a.createElement("strong",null,"Size: "),Object(g.e)(o)),u.a.createElement("p",null,u.a.createElement("strong",null,"ETA: "),Object(g.f)(a)," seconds")))}function j(e){var t=e.job,n=t.name,a=t.percentage,r=t.speed,c=t.size;return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null,c&&r?u.a.createElement(b.a,{lg:12},n,"(",Object(g.e)(c),") - ",Object(g.e)(r),"PS "):u.a.createElement(b.a,{lg:12},"Calculating")),u.a.createElement(p.a,null,u.a.createElement(b.a,{lg:12},u.a.createElement(d.a,{value:a,className:"mb-2"},a," %"))))}function h(e){var t=e.stats,n=t.speed,a=t.bytes,r=t.checks,c=t.elapsedTime,l=t.deletes,o=t.errors,s=t.transfers;return u.a.createElement(i.a,null,u.a.createElement(m.a,null,u.a.createElement("strong",null,"Global Stats")),u.a.createElement(f.a,null,u.a.createElement("p",null,u.a.createElement("strong",null,"Bytes Transferred: "),Object(g.e)(a)),u.a.createElement("p",null,u.a.createElement("strong",null,"Average Speed: "),Object(g.e)(n),"PS"),u.a.createElement("p",null,u.a.createElement("strong",null,"Checks: "),r),u.a.createElement("p",null,u.a.createElement("strong",null,"Deletes: "),l),u.a.createElement("p",null,u.a.createElement("strong",null,"Running since: "),Object(g.f)(c)),u.a.createElement("p",null,u.a.createElement("strong",null,"Errors: "),o),u.a.createElement("p",null,u.a.createElement("strong",null,"Transfers: "),s)))}function y(e){var t=e.transferring;return void 0!==t?t.map(function(e,t){return u.a.createElement(E,{key:t,job:e})}):null}function O(e){var t=e.transferring;return void 0!==t?t.map(function(e,t){return u.a.createElement(j,{key:t,job:e})}):null}var N=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={jobs:{},isConnected:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobs,n=e.isConnected,a=t.transferring,r=this.props.mode;return"full-status"===r?n?u.a.createElement(p.a,null,u.a.createElement(b.a,{sm:12,lg:4},u.a.createElement(h,{stats:t})),u.a.createElement(b.a,{sm:12,lg:4},u.a.createElement(y,{transferring:a}))):u.a.createElement("div",null,"Not connected to rclone."):"card"===r?n?u.a.createElement(O,{transferring:a}):u.a.createElement("div",null,"Not connected to rclone."):"modal"===r?a&&a.length>0?u.a.createElement(i.a,{className:"progress-modal"},u.a.createElement(m.a,null,"Progress"),u.a.createElement(f.a,null,u.a.createElement(O,{transferring:a}))):null:void 0}}]),t}(u.a.Component);t.a=Object(v.b)(function(e){return{jobs:e.status.jobs,isConnected:e.status.isConnected,error:e.status.error}},{})(N)},412:function(e,t,n){"use strict";var a=n(42),r=n(43),c=n(128),l=n(127),o=n(129),s=n(0),u=n.n(s),i=n(395),m=n(416),f=n(396),d=n(392),p=n(49),b=n.n(p),g=n(405),v=n(131),E=n(387),j=n.n(E),h=n(388),y=n(382),O=n(7);function N(){return b.a.createPortal(u.a.createElement(g.a,{mode:"modal"}),document.getElementById("modal-root"))}var M=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.refreshInterval=setInterval(function(){return e.props.getStatus()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"render",value:function(){var e=this.props,t=e.isConnected,n=e.mode,a=localStorage.getItem("ipAddress");return"card"===n?u.a.createElement(i.a,{className:"text-center "+(t?"card-accent-info":"card-accent-warning")},u.a.createElement(m.a,null,"rclone status"),u.a.createElement(f.a,null,u.a.createElement(w,{connectivityStatus:t,ipAddress:a}))):u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{type:"primary",className:t?"bg-info  d-none d-lg-block":"bg-warning d-none d-lg-block"}," ",t?"CONNECTED":"DISCONNECTED"),u.a.createElement(N,null))}}]),t}(u.a.Component);function w(e){var t=e.connectivityStatus,n=e.ipAddress;return t?u.a.createElement("p",null,"The rclone backend is connected and working as expected.",u.a.createElement("br",null),"Current IP address is ",n,"."):u.a.createElement("p",null,"Cannot connect to rclone backend. There is a problem with connecting to ",n,".")}M.defaultProps={mode:"card"};t.a=Object(v.b)(function(e){return{isConnected:e.status.isConnected}},{getStatus:function(){return function(){var e=Object(h.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.a.post("/core/stats").then(function(e){return t({type:O.g,status:O.q,payload:e.data})},function(e){return t({type:O.g,status:O.p,payload:e})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(M)},415:function(e,t,n){"use strict";var a=n(3),r=n(17),c=n(0),l=n.n(c),o=n(1),s=n.n(o),u=n(63),i=n.n(u),m=n(398),f=n.n(m),d=n(380),p={children:s.a.node,bar:s.a.bool,multi:s.a.bool,tag:d.n,value:s.a.oneOfType([s.a.string,s.a.number]),max:s.a.oneOfType([s.a.string,s.a.number]),animated:s.a.bool,striped:s.a.bool,color:s.a.string,className:s.a.string,barClassName:s.a.string,cssModule:s.a.object},b=function(e){var t=e.children,n=e.className,c=e.barClassName,o=e.cssModule,s=e.value,u=e.max,m=e.animated,p=e.striped,b=e.color,g=e.bar,v=e.multi,E=e.tag,j=Object(r.a)(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),h=f()(s)/f()(u)*100,y=Object(d.j)(i()(n,"progress"),o),O=Object(d.j)(i()("progress-bar",g&&n||c,m?"progress-bar-animated":null,b?"bg-"+b:null,p||m?"progress-bar-striped":null),o),N=v?t:l.a.createElement("div",{className:O,style:{width:h+"%"},role:"progressbar","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":u,children:t});return g?N:l.a.createElement(E,Object(a.a)({},j,{className:y,children:N}))};b.propTypes=p,b.defaultProps={tag:"div",value:0,max:100},t.a=b},416:function(e,t,n){"use strict";var a=n(3),r=n(17),c=n(0),l=n.n(c),o=n(1),s=n.n(o),u=n(63),i=n.n(u),m=n(380),f={tag:m.n,className:s.a.string,cssModule:s.a.object},d=function(e){var t=e.className,n=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.j)(i()(t,"card-header"),n);return l.a.createElement(c,Object(a.a)({},o,{className:s}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},488:function(e,t,n){"use strict";n.r(t),function(e){var a=n(42),r=n(43),c=n(128),l=n(127),o=n(129),s=n(0),u=n.n(s),i=n(391),m=n(394),f=n(412),d=n(405),p=function(t){function n(){return Object(a.a)(this,n),Object(c.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(o.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return u.a.createElement("div",{"data-test":"homeComponent"},u.a.createElement("h2",null,"Welcome to Rclone dashboard. "),u.a.createElement("p",null,"Begin by creating a new remote config from the left sidebar."),u.a.createElement(i.a,null,u.a.createElement(m.a,{lg:4,sm:12},u.a.createElement(f.a,{ipAddress:e.ipAddress,mode:"card"}))),u.a.createElement("h2",null,"Jobs"),u.a.createElement(d.a,{mode:"full-status"}))}}]),n}(u.a.Component);t.default=p}.call(this,n(53))}}]);
//# sourceMappingURL=12.e27e2ded.chunk.js.map