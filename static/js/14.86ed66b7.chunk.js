(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{383:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return i});var a=n(389),r=n.n(a),l=n(390),o=n(405),c=n.n(o).a.create({baseURL:localStorage.getItem("ipAddress"),headers:{"Content-Type":"application/json"},responseType:"json"});function s(e,t,n,a,r,l){return u(e,t,n,a,r,l,"move")}function i(e,t,n,a,r,l){return u(e,t,n,a,r,l,"copy")}function u(e,t,n,a,r,l,o){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(r.a.mark(function e(t,n,a,l,o,s,i){var u,m,d,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u="",u="move"===i?s?"/sync/move":"/operations/movefile":s?"/sync/copy":"/operations/copyfile",!s){e.next=10;break}return m=n.split("/"),d={srcFs:t+n,dstFs:a+l+"/"+m[m.length-1],_async:!0},e.next=7,c.post(u,d);case 7:return e.abrupt("return",e.sent);case 10:return""===l?l=o:l+="/"+o,p={srcFs:t,srcRemote:n,dstFs:a,dstRemote:l,_async:!0},e.next=14,c.post(u,p);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}c.interceptors.request.use(function(e){return e.headers.Authorization="Basic "+btoa(localStorage.getItem("username")+":"+localStorage.getItem("password")),e},function(e){return Promise.reject(e)}),t.a=c},384:function(e,t,n){"use strict";function a(e){return 0===e?0:e/1024/1024}function r(e){return 0===e?0:e/1024/1024/1024}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e<1)return"0 B";var n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function o(e){function t(e){return e>1?"s":""}var n=Math.floor(e/31536e3);if(n)return n+" year"+t(n);var a=Math.floor((e%=31536e3)/86400);if(a)return a+" day"+t(a);var r=Math.floor((e%=86400)/3600);if(r)return r+" hour"+t(r);var l=Math.floor((e%=3600)/60);return l?l+" minute"+t(l):(e%=60)?e.toFixed(2)+" second"+t(e):"Just now"}function c(e,t){return e.test(t)}function s(e){return c(/^(off|(([0-9]+[.][0-9]+|[0-9]+)([KMGTP])))$/i,e)}function i(e){return c(/^([0-9]+)$/,e)}function u(e){return c(/^(\d+[h])?(\d+[m])?(\d+[s])?(\d+ms)??$/i,e)}function m(e,t){return e.find(function(e,n,a){return t===e.Prefix})}function d(e){return-1===e.indexOf(":")&&":"!==e[e.length-1]&&(e+=":"),e}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"h",function(){return l}),n.d(t,"j",function(){return o}),n.d(t,"m",function(){return s}),n.d(t,"l",function(){return i}),n.d(t,"k",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return E}),n.d(t,"i",function(){return b}),t.f=function(e){if(Array.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var p={Images:"image/jpeg",Pdf:"application/pdf"};function f(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p)[t];return n?e.filter(function(e){return e.IsDir||e.MimeType===n}):e}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t=t.toLowerCase())?e.filter(function(e){return e.Name.toLowerCase().startsWith(t)}):e}function b(e){return e&&""!==e&&"/"===e[0]}},402:function(e,t){var n=NaN,a="[object Symbol]",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,i=Object.prototype.toString;function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&i.call(e)==a}(e))return n;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var m=o.test(e);return m||c.test(e)?s(e.slice(2),m?2:8):l.test(e)?n:+e}},412:function(e,t,n){"use strict";var a=n(42),r=n(43),l=n(128),o=n(127),c=n(129),s=n(0),i=n.n(s),u=n(410),m=n(568),d=n(411),p=n(438),f=n(397),E=n(398),b=n(384),h=n(130),g=n(420),v=n(430),O={tooltips:{enabled:!1,custom:v.CustomTooltips},maintainAspectRatio:!1};function T(e){var t=e.job,n=t.name,a=t.eta,r=t.percentage,l=t.speed,o=t.speedAvg,c=t.size,s=t.bytes;return i.a.createElement(u.a,null,i.a.createElement(m.a,null,"Running Jobs"),i.a.createElement(d.a,null,i.a.createElement("p",null,n)," ",i.a.createElement(p.a,{value:r,className:"mb-2"},r," %")," ",i.a.createElement("p",null,i.a.createElement("strong",null,"Speed: "),Object(b.h)(l),"PS")," ",i.a.createElement("p",null,i.a.createElement("strong",null,"Average Speed: "),Object(b.h)(o),"PS")," ",i.a.createElement("p",null,i.a.createElement("strong",null,"Total transferred: "),Object(b.h)(s))," ",i.a.createElement("p",null,i.a.createElement("strong",null,"Size: "),Object(b.h)(c)),i.a.createElement("p",null,i.a.createElement("strong",null,"ETA: "),Object(b.j)(a)," seconds")))}function y(e){var t=e.job,n=t.name,a=t.percentage,r=t.speed,l=t.size;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,l&&r?i.a.createElement(E.a,{lg:12},n,"(",Object(b.h)(l),") - ",Object(b.h)(r),"PS "):i.a.createElement(E.a,{lg:12},"Calculating")),i.a.createElement(f.a,null,i.a.createElement(E.a,{lg:12},i.a.createElement(p.a,{value:a,className:"mb-2"},a," %"))))}function j(e){var t=e.stats,n=t.speed,a=t.bytes,r=t.checks,l=t.elapsedTime,o=t.deletes,c=t.errors,s=t.transfers;return i.a.createElement(u.a,null,i.a.createElement(m.a,null,i.a.createElement("strong",null,"Global Stats")),i.a.createElement(d.a,null,i.a.createElement("p",null,i.a.createElement("strong",null,"Bytes Transferred: "),Object(b.h)(a)),i.a.createElement("p",null,i.a.createElement("strong",null,"Average Speed: "),Object(b.h)(n),"PS"),i.a.createElement("p",null,i.a.createElement("strong",null,"Checks: "),r),i.a.createElement("p",null,i.a.createElement("strong",null,"Deletes: "),o),i.a.createElement("p",null,i.a.createElement("strong",null,"Running since: "),Object(b.j)(l)),i.a.createElement("p",null,i.a.createElement("strong",null,"Errors: "),c),i.a.createElement("p",null,i.a.createElement("strong",null,"Transfers: "),s)))}function C(e){var t=e.transferring;return void 0!==t?t.map(function(e,t){return i.a.createElement(T,{key:t,job:e})}):null}function I(e){var t=e.transferring;return void 0!==t?t.map(function(e,t){return i.a.createElement(y,{key:t,job:e})}):null}var N=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobs,n=e.isConnected,a=e.lineChartData,r=t.transferring,l=this.props.mode;return"full-status"===l?n?i.a.createElement(f.a,null,i.a.createElement(E.a,{sm:12,lg:4},i.a.createElement(j,{stats:t})),i.a.createElement(E.a,{sm:12,lg:4},i.a.createElement(C,{transferring:r})),i.a.createElement(E.a,{sm:12,lg:4},i.a.createElement(u.a,null,i.a.createElement(m.a,null,"Speed",i.a.createElement("div",{className:"card-header-actions"},i.a.createElement("a",{href:"http://www.chartjs.org",className:"card-header-action"},i.a.createElement("small",{className:"text-muted"},"docs")))),i.a.createElement(d.a,null,i.a.createElement("div",{className:"chart-wrapper"},i.a.createElement(g.b,{data:a,options:O})))))):i.a.createElement("div",null,"Not connected to rclone."):"card"===l?n?i.a.createElement(I,{transferring:r}):i.a.createElement("div",null,"Not connected to rclone."):"modal"===l?r&&r.length>0?i.a.createElement(u.a,{className:"progress-modal"},i.a.createElement(m.a,null,"Progress"),i.a.createElement(d.a,null,i.a.createElement(I,{transferring:r}))):null:void 0}}]),t}(i.a.Component);t.a=Object(h.b)(function(e,t){var n=e.status.speed,a={};if(n){var r=[],l=[],o=n.length;n.slice(o-100,o-1).forEach(function(e,t){r.push(Math.ceil(e.elapsedTime)),l.push(Object(b.c)(e.speed).toFixed(2))}),a={labels:r,datasets:[{label:"Average Speed (mbps)",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:l}]}}return{jobs:e.status.jobs,isConnected:e.status.isConnected,error:e.status.error,lineChartData:a}},{})(N)},430:function(e,t,n){!function(e){"use strict";function t(e){var t=this,n={ABOVE:"above",BELOW:"below",CHARTJS_TOOLTIP:"chartjs-tooltip",NO_TRANSFORM:"no-transform",TOOLTIP_BODY:"tooltip-body",TOOLTIP_BODY_ITEM:"tooltip-body-item",TOOLTIP_BODY_ITEM_COLOR:"tooltip-body-item-color",TOOLTIP_BODY_ITEM_LABEL:"tooltip-body-item-label",TOOLTIP_BODY_ITEM_VALUE:"tooltip-body-item-value",TOOLTIP_HEADER:"tooltip-header",TOOLTIP_HEADER_ITEM:"tooltip-header-item"},a={DIV:"div",SPAN:"span",TOOLTIP:(this._chart.canvas.id||function(){var e=function(){return(65536*(1+Math.random())|0).toString(16)},n="_canvas-"+(e()+e());return t._chart.canvas.id=n,n}())+"-tooltip"},r=document.getElementById(a.TOOLTIP);if(r||((r=document.createElement("div")).id=a.TOOLTIP,r.className=n.CHARTJS_TOOLTIP,this._chart.canvas.parentNode.appendChild(r)),0!==e.opacity){if(r.classList.remove(n.ABOVE,n.BELOW,n.NO_TRANSFORM),e.yAlign?r.classList.add(e.yAlign):r.classList.add(n.NO_TRANSFORM),e.body){var l=e.title||[],o=document.createElement(a.DIV);o.className=n.TOOLTIP_HEADER,l.forEach(function(e){var t=document.createElement(a.DIV);t.className=n.TOOLTIP_HEADER_ITEM,t.innerHTML=e,o.appendChild(t)});var c=document.createElement(a.DIV);c.className=n.TOOLTIP_BODY;var s=e.body.map(function(e){return e.lines});s.forEach(function(t,r){var l=document.createElement(a.DIV);l.className=n.TOOLTIP_BODY_ITEM;var o=e.labelColors[r],s=document.createElement(a.SPAN);if(s.className=n.TOOLTIP_BODY_ITEM_COLOR,s.style.backgroundColor=o.backgroundColor,l.appendChild(s),t[0].split(":").length>1){var i=document.createElement(a.SPAN);i.className=n.TOOLTIP_BODY_ITEM_LABEL,i.innerHTML=t[0].split(": ")[0],l.appendChild(i);var u=document.createElement(a.SPAN);u.className=n.TOOLTIP_BODY_ITEM_VALUE,u.innerHTML=t[0].split(": ").pop(),l.appendChild(u)}else{var m=document.createElement(a.SPAN);m.className=n.TOOLTIP_BODY_ITEM_VALUE,m.innerHTML=t[0],l.appendChild(m)}c.appendChild(l)}),r.innerHTML="",r.appendChild(o),r.appendChild(c)}var i=this._chart.canvas.getBoundingClientRect(),u=this._chart.canvas.offsetTop,m=this._chart.canvas.offsetLeft,d=m+e.caretX,p=u+e.caretY,f=e.width/2;d+f>i.width?d-=f:d<f&&(d+=f),r.style.opacity=1,r.style.left=d+"px",r.style.top=p+"px"}else r.style.opacity=0}var n=t;e.CustomTooltips=t,e.customTooltips=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},435:function(e,t,n){"use strict";var a=n(42),r=n(43),l=n(128),o=n(127),c=n(129),s=n(0),i=n.n(s),u=n(410),m=n(568),d=n(411),p=n(394),f=n(49),E=n.n(f),b=n(412),h=n(130),g=n(389),v=n.n(g),O=n(390),T=n(383),y=n(6);function j(){return E.a.createPortal(i.a.createElement(b.a,{mode:"modal"}),document.getElementById("modal-root"))}var C=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.getStatus(),this.refreshInterval=setInterval(function(){return e.props.getStatus()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"render",value:function(){var e=this.props,t=e.isConnected,n=e.mode,a=localStorage.getItem("ipAddress"),r=localStorage.getItem("username");return"card"===n?i.a.createElement(u.a,{className:"text-center "+(t?"card-accent-info":"card-accent-warning")},i.a.createElement(m.a,null,"rclone status"),i.a.createElement(d.a,null,i.a.createElement(I,{connectivityStatus:t,ipAddress:a,userName:r}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{type:"primary",className:t?"bg-info  d-none d-lg-block":"bg-warning d-none d-lg-block"}," ",t?"CONNECTED":"DISCONNECTED"),i.a.createElement(j,null))}}]),t}(i.a.Component);function I(e){var t=e.connectivityStatus,n=e.ipAddress,a=e.userName;return t?i.a.createElement("p",null,"The rclone backend is connected and working as expected.",i.a.createElement("br",null),"Current IP address is ",n,i.a.createElement("br",null),i.a.createElement("strong",null," Username: "),a):i.a.createElement("p",null,"Cannot connect to rclone backend. There is a problem with connecting to ",n,".")}C.defaultProps={mode:"card"};t.a=Object(h.b)(function(e){return{isConnected:e.status.isConnected}},{getStatus:function(){return function(){var e=Object(O.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T.a.post("/core/stats").then(function(e){return t({type:y.h,status:y.s,payload:e.data})},function(e){return t({type:y.h,status:y.r,payload:e})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(C)},438:function(e,t,n){"use strict";var a=n(7),r=n(35),l=n(0),o=n.n(l),c=n(1),s=n.n(c),i=n(63),u=n.n(i),m=n(402),d=n.n(m),p=n(380),f={children:s.a.node,bar:s.a.bool,multi:s.a.bool,tag:p.n,value:s.a.oneOfType([s.a.string,s.a.number]),max:s.a.oneOfType([s.a.string,s.a.number]),animated:s.a.bool,striped:s.a.bool,color:s.a.string,className:s.a.string,barClassName:s.a.string,cssModule:s.a.object},E=function(e){var t=e.children,n=e.className,l=e.barClassName,c=e.cssModule,s=e.value,i=e.max,m=e.animated,f=e.striped,E=e.color,b=e.bar,h=e.multi,g=e.tag,v=Object(r.a)(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),O=d()(s)/d()(i)*100,T=Object(p.j)(u()(n,"progress"),c),y=Object(p.j)(u()("progress-bar",b&&n||l,m?"progress-bar-animated":null,E?"bg-"+E:null,f||m?"progress-bar-striped":null),c),j=h?t:o.a.createElement("div",{className:y,style:{width:O+"%"},role:"progressbar","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":i,children:t});return b?j:o.a.createElement(g,Object(a.a)({},v,{className:T,children:j}))};E.propTypes=f,E.defaultProps={tag:"div",value:0,max:100},t.a=E},625:function(e,t,n){"use strict";n.r(t),function(e){var a=n(42),r=n(43),l=n(128),o=n(127),c=n(129),s=n(0),i=n.n(s),u=n(397),m=n(398),d=n(435),p=n(412),f=function(t){function n(){return Object(a.a)(this,n),Object(l.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{"data-test":"homeComponent"},i.a.createElement("h2",null,"Welcome to Rclone dashboard. "),i.a.createElement("p",null,"Begin by creating a new remote config from the left sidebar."),i.a.createElement(u.a,null,i.a.createElement(m.a,{lg:4,sm:12},i.a.createElement(d.a,{ipAddress:e.ipAddress,mode:"card"}))),i.a.createElement("h2",null,"Jobs"),i.a.createElement(p.a,{mode:"full-status"}))}}]),n}(i.a.Component);t.default=f}.call(this,n(53))}}]);
//# sourceMappingURL=14.86ed66b7.chunk.js.map